<!DOCTYPE html>
<html class="client-nojs" lang="fr" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Drupal — OpenWikiBSD</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Drupal","wgTitle":"Drupal","wgCurRevisionId":2956,"wgRevisionId":2956,"wgArticleId":113,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"fr","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],"wgMonthNamesShort":["","jan","fév","mar","avr","mai","juin","juil","août","sep","oct","nov","déc"],"wgRelevantPageName":"Drupal","wgRelevantArticleId":113,"wgRequestId":"67ce576d1c024ae72e3c4c5e","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@1x2qlv5",function($,jQuery,require,module){mw.user.options.set({"variant":"fr"});});mw.loader.implement("user.tokens@1iezen7",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=fr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.interface%257Cskins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=fr&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.29.0"/>
<link rel="shortcut icon" href="http://www.openbsd-edu.net/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OpenWikiBSD (fr)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://www.openbsd-edu.net/api.php?action=rsd"/>
<link rel="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Flux Atom de OpenWikiBSD" href="./index.php%3Ftitle=Sp%25C3%25A9cial:Modifications_r%25C3%25A9centes&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Drupal rootpage-Drupal skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="fr">Drupal</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">De OpenWikiBSD</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Aller à :					<a href="index.php%3Ftitle=Drupal.html#mw-head">navigation</a>, 					<a href="index.php%3Ftitle=Drupal.html#p-search">rechercher</a>
				</div>
				<div id="mw-content-text" lang="fr" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle" class="toctitle"><h2>Sommaire</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Drupal.html#Installation"><span class="tocnumber">1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=Drupal.html#.5Berror.5D_ALERT_-_configured_POST_variable_limit_exceeded_-_dropped_variable"><span class="tocnumber">2</span> <span class="toctext"><i>[error] ALERT - configured POST variable limit exceeded - dropped variable</i></span></a></li>
<li class="toclevel-1 tocsection-3"><a href="index.php%3Ftitle=Drupal.html#Modules"><span class="tocnumber">3</span> <span class="toctext">Modules</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=Drupal.html#Gestion_des_droits"><span class="tocnumber">3.1</span> <span class="toctext">Gestion des droits</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="index.php%3Ftitle=Drupal.html#Galerie_de_photos"><span class="tocnumber">3.2</span> <span class="toctext">Galerie de photos</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="index.php%3Ftitle=Drupal.html#Monitoring"><span class="tocnumber">3.3</span> <span class="toctext">Monitoring</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="index.php%3Ftitle=Drupal.html#IPv6"><span class="tocnumber">3.4</span> <span class="toctext">IPv6</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="index.php%3Ftitle=Drupal.html#Drupal_en_ligne_de_commande_:_Drush"><span class="tocnumber">4</span> <span class="toctext">Drupal en ligne de commande&#160;: Drush</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="index.php%3Ftitle=Drupal.html#Config"><span class="tocnumber">5</span> <span class="toctext">Config</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="index.php%3Ftitle=Drupal.html#Ajouter_un_lien_permanent_dans_le_bloc_principal_de_gauche"><span class="tocnumber">5.1</span> <span class="toctext">Ajouter un lien permanent dans le bloc principal de gauche</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="index.php%3Ftitle=Drupal.html#Modifier_l.27image_de_logo"><span class="tocnumber">5.2</span> <span class="toctext">Modifier l'image de logo</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="index.php%3Ftitle=Drupal.html#Lancer_des_jobs_.C3.A0_intervalle_de_temps_r.C3.A9gulier"><span class="tocnumber">5.3</span> <span class="toctext">Lancer des jobs à intervalle de temps régulier</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="index.php%3Ftitle=Drupal.html#Suivre_les_flux_RSS_d.27un_autre_site"><span class="tocnumber">5.4</span> <span class="toctext">Suivre les flux RSS d'un autre site</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="index.php%3Ftitle=Drupal.html#Modifier_un_morceau_fixe_de_page"><span class="tocnumber">5.5</span> <span class="toctext">Modifier un morceau fixe de page</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="index.php%3Ftitle=Drupal.html#Authentification_LDAP.2FAD"><span class="tocnumber">5.6</span> <span class="toctext">Authentification LDAP/AD</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="index.php%3Ftitle=Drupal.html#Pour_AD"><span class="tocnumber">5.6.1</span> <span class="toctext">Pour AD</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-17"><a href="index.php%3Ftitle=Drupal.html#Processus_de_publication"><span class="tocnumber">5.7</span> <span class="toctext">Processus de publication</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="index.php%3Ftitle=Drupal.html#Faire_envoyer_les_mails_par_Drupal_en_HTML"><span class="tocnumber">5.8</span> <span class="toctext">Faire envoyer les mails par Drupal en HTML</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="index.php%3Ftitle=Drupal.html#Menu_d.C3.A9roulants"><span class="tocnumber">5.9</span> <span class="toctext">Menu déroulants</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="index.php%3Ftitle=Drupal.html#Transformer_la_page_d.27accueil"><span class="tocnumber">5.10</span> <span class="toctext">Transformer la page d'accueil</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="index.php%3Ftitle=Drupal.html#Ajouter_un_lien_de_menu_dans_les_menus_principaux"><span class="tocnumber">5.11</span> <span class="toctext">Ajouter un lien de menu dans les menus principaux</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="index.php%3Ftitle=Drupal.html#Afficher_une_image_al.C3.A9atoire"><span class="tocnumber">5.12</span> <span class="toctext">Afficher une image aléatoire</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="index.php%3Ftitle=Drupal.html#Les_vues"><span class="tocnumber">5.13</span> <span class="toctext">Les vues</span></a>
<ul>
<li class="toclevel-3 tocsection-24"><a href="index.php%3Ftitle=Drupal.html#Attribuer_une_URL_.C3.A0_une_vue"><span class="tocnumber">5.13.1</span> <span class="toctext">Attribuer une URL à une vue</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-25"><a href="index.php%3Ftitle=Drupal.html#Twitter"><span class="tocnumber">6</span> <span class="toctext">Twitter</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="index.php%3Ftitle=Drupal.html#Mise_.C3.A0_jour"><span class="tocnumber">7</span> <span class="toctext">Mise à jour</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="index.php%3Ftitle=Drupal.html#Du_moteur_de_Drupal"><span class="tocnumber">7.1</span> <span class="toctext">Du moteur de Drupal</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="index.php%3Ftitle=Drupal.html#Des_modules"><span class="tocnumber">7.2</span> <span class="toctext">Des modules</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="index.php%3Ftitle=Drupal.html#Migration_Compl.C3.A8te_Drupal_6_en_Drupal_7"><span class="tocnumber">7.3</span> <span class="toctext">Migration Complète Drupal 6 en Drupal 7</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="index.php%3Ftitle=Drupal.html#Migration_6_.C3.A0_8"><span class="tocnumber">7.4</span> <span class="toctext">Migration 6 à 8</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="index.php%3Ftitle=Drupal.html#Debug"><span class="tocnumber">8</span> <span class="toctext">Debug</span></a>
<ul>
<li class="toclevel-2 tocsection-32"><a href="index.php%3Ftitle=Drupal.html#Les_fichiers_en_PJ_ne_s.27afficent_pas_pour_les_anonymes"><span class="tocnumber">8.1</span> <span class="toctext">Les fichiers en PJ ne s'afficent pas pour les anonymes</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p><a href="index.php%3Ftitle=Applications.html#MySQL" title="Applications"> Installez MySQL</a>
</p><p><br />
</p>
<pre>/usr/sbin/pkg_add php-5.3.27
/bin/ln -sf /var/www/conf/modules.sample/php-5.3.conf /var/www/conf/modules/php.conf
/bin/ln -s /usr/local/bin/php-5.3 /usr/local/bin/php
/usr/sbin/pkg_add php-gd-5.3.27
/bin/ln -sf /etc/php-5.3.sample/gd.ini /etc/php-5.3/gd.ini
/usr/sbin/pkg_add php-mysql-5.3.27
/bin/ln -sf /etc/php-5.3.sample/mysql.ini /etc/php-5.3/mysql.ini
/usr/sbin/pkg_add php-pdo_mysql-5.3.27
/bin/ln -sf /etc/php-5.3.sample/pdo_mysql.ini /etc/php-5.3/pdo_mysql.ini
</pre>
<p><br />
INstallez drush (voir +loin)
</p>
<pre>drush dl drupal
mv drupal-7.26 /var/www
</pre>
<p>DL la traduction&#160;: <a rel="nofollow" class="external free" href="http://ftp.drupal.org/files/translations/7.x/drupal/drupal-7.26.fr.po">http://ftp.drupal.org/files/translations/7.x/drupal/drupal-7.26.fr.po</a>
et la coller dans /profiles/standard/translations/
puis reloader l'installer web
</p>
<pre> cp sites/default/default.settings.php sites/default/settings.php
mkdir sites/default/files
chown www.www sites/default/files/
chown www.www sites/default/settings.php
</pre>
<h2><span class="mw-headline" id=".5Berror.5D_ALERT_-_configured_POST_variable_limit_exceeded_-_dropped_variable"><i>[error] ALERT - configured POST variable limit exceeded - dropped variable</i></span></h2>
<p>dans les logs d'Apache quand vous ne pouvez pas faire des modifs sur des pages avec beaucoup de paramètres...
</p><p><br />
Il faut modifier les valeurs des patches Suhosin PHP:
</p>
<pre>
perl -pi -e 's/;suhosin.post.max_array_depth = 50/suhosin.post.max_array_depth = 100/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.post.max_array_index_length = 64/suhosin.post.max_array_index_length = 128/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.post.max_name_length = 64/suhosin.post.max_name_length = 128/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.post.max_totalname_length = 256/suhosin.post.max_totalname_length = 512/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.post.max_vars = 200/suhosin.post.max_vars = 400/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.post.max_value_length = 65000/suhosin.post.max_value_length = 100000/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.request.max_array_index_length = 64/suhosin.request.max_array_index_length = 128/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.request.max_array_depth = 50/suhosin.request.max_array_depth = 100/' /var/www/conf/php.ini 
perl -pi -e 's/;suhosin.request.max_vars = 200/suhosin.request.max_vars = 400/' /var/www/conf/php.ini 

apachectl stop
apachectl startssl

</pre>
<h2><span class="mw-headline" id="Modules">Modules</span></h2>
<h3><span class="mw-headline" id="Gestion_des_droits">Gestion des droits</span></h3>
<ul><li> node_access &amp; content_access</li></ul>
<h3><span class="mw-headline" id="Galerie_de_photos">Galerie de photos</span></h3>
<p>Plusieurs existent, j'ai choisi celle-là&#160;:<a rel="nofollow" class="external text" href="http://drupal.org/project/photos">album photos</a>.
</p><p>Il faut également télécharger <a rel="nofollow" class="external text" href="http://drupal.org/project/dfgallery">dfGallery</a>
</p>
<ul><li>   dfgallery doit être copié dans sites/all/modules</li></ul>
<ul><li> Penser à activer les modules (<i>admin/build/modules/list</i>)</li></ul>
<pre>mv sites/all/modules/dfgallery/dfgallery/resources/locale/dfgallery_en.eden.txt sites/all/modules/dfgallery/dfgallery/resources/locale/dfgallery_en.eden
</pre>
<ul><li> Penser à augmenter la taille des uploads PhP&#160;: dans <i>php.ini</i></li></ul>
<p>et dans un .htaccess à la racine du site drupal&#160;:<a rel="nofollow" class="external autonumber" href="http://drupal.org/node/97193">[1]</a>
</p>
<ul><li> Modifier <i>/modules/photos/thickbox/thickbox-compressed.js</i> et mettre le bon lien pour <i>var tb_pathToImage = '/drupal6/modules/photos/thickbox/loadingAnimation.gif';</i></li></ul>
<p>
</p>
<ul><li> Penser à augmenter la taille des Uploads Drupal&#160;: admin/settings/uploads catégorie par catégorie d'utilisateurs.</li>
<li> Penser à mettre une musique&#160;: Slide default Music&#160;:</li></ul>
<h3><span class="mw-headline" id="Monitoring">Monitoring</span></h3>
<ul><li> Munin</li></ul>
<h3><span class="mw-headline" id="IPv6">IPv6</span></h3>
<p>Affiche un bloc dépendant de l'ip du client v4 ou v6&#160;:
<a rel="nofollow" class="external autonumber" href="http://ao2.it/en/blog/2011/02/15/ipv6-greeter-drupal-module">[2]</a>
</p>
<h2><span class="mw-headline" id="Drupal_en_ligne_de_commande_:_Drush">Drupal en ligne de commande&#160;: Drush</span></h2>
<p>doc de base <a rel="nofollow" class="external autonumber" href="http://juliendubreuil.fr/drupal/installer-drush-pour-administrer-drupal">[3]</a>
</p><p>Installer php par puppet, puis
ajouter le manifest <a href="index.php%3Ftitle=Puppet,_Gestion_de_configuration.html#Drupal_en_CLI_:_drush" title="Puppet, Gestion de configuration"> drush</a> qui va bien.
</p><p>une fois installé, la liste des commandes est la suivante&#160;:
</p>
<pre>drush dl XXX
</pre>
<p>Télécharge et installe le module XXX
</p>
<pre>drush en XXX
Active le module XXX
</pre>
<p><br />
</p>
<ul><li>Installer Drupal</li></ul>
<pre>drush dl drupal
Continuer la config à partir de l'interface web.
</pre>
<ul><li> Mettre/supprimer le mode maintenance</li></ul>
<pre>drush vset maintenance_mode 1;
drush vset maintenance_mode 0; 
</pre>
<ul><li> Supprimer les clean-URL</li></ul>
<pre>drush vset clean_url 0 --yes
</pre>
<h2><span class="mw-headline" id="Config">Config</span></h2>
<h3><span class="mw-headline" id="Ajouter_un_lien_permanent_dans_le_bloc_principal_de_gauche">Ajouter un lien permanent dans le bloc principal de gauche</span></h3>
<pre>-&gt; admin/build/menu-customize/navigation
</pre>
<p>././.drupal/modules/index.html
</p>
<h3><span class="mw-headline" id="Modifier_l.27image_de_logo">Modifier l'image de logo</span></h3>
<ul><li> Blocs/Entête/</li></ul>
<h3><span class="mw-headline" id="Lancer_des_jobs_.C3.A0_intervalle_de_temps_r.C3.A9gulier">Lancer des jobs à intervalle de temps régulier</span></h3>
<pre>crontab -e
45      *       *       *       *       /usr/bin/lynx -source <a rel="nofollow" class="external free" href="http://www.monsite.fr/drupal6/cron.php">http://www.monsite.fr/drupal6/cron.php</a>
</pre>
<p>Indispensable pour plusieurs taches, dont les flux rss
</p>
<h3><span class="mw-headline" id="Suivre_les_flux_RSS_d.27un_autre_site">Suivre les flux RSS d'un autre site</span></h3>
<p>Suivre <a rel="nofollow" class="external text" href="http://www.alledia.com/blog/drupal-tutorials/showing-an-rss-feed-in-a-drupal-block/">ça</a> et ne pas oublier de lancer les cronjobs et <i>de faire une première synchro</i> à la main!
</p>
<h3><span class="mw-headline" id="Modifier_un_morceau_fixe_de_page">Modifier un morceau fixe de page</span></h3>
<ul><li> Exemple les coordonnées du lycée&#160;:</li></ul>
<p>../sites/all/themes/newsflash/page.tpl.php
</p>
<h3><span class="mw-headline" id="Authentification_LDAP.2FAD">Authentification LDAP/AD</span></h3>
<ul><li> installer drupal6-ldap_integration</li></ul>
<h4><span class="mw-headline" id="Pour_AD">Pour AD</span></h4>
<ul><li> Configurer un user avec droits RO sur l’arborescence des utilisateurs; il devra lire les mdp</li>
<li> Mettre un <i>server</i> par OU que devra parcourir votre processus d'authentification; le champ texte proposé devrait,à priori permettre de parcourir plusieurs OU; en pratique ça ne marche pas.</li>
<li> <b>TRES important</b>&#160;: Dans <i>Base DN's</i>, vous devez utiliser le <i>plain text editor</i>, pas le <i>rich text editor</i>; des balises HTML dans un BaseDN, ça marche moyen moyen..</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Processus_de_publication">Processus de publication</span></h3>
<ul><li> Pour avoir un workflow de publication cad:
<ul><li> Création de contenu</li>
<li> Validation/Modération du contenu</li>
<li> Publication du contenu</li></ul></li></ul>
<p>Il vous faut le module <i>Rules</i>ainsi que  <i>modr8</i>
</p>
<ul><li>Modr8 devra voir son bloc activé pour le groupe <i>modérateurs</i></li>
<li>Appliquez une <i>triggered rule</i> pour lancer une action en fonction d'une condition; très simple d'usage.</li></ul>
<ul><li> Les actions possibles&#160;:admin/settings/actions/manage</li></ul>
<p><br />
</p>
<ul><li> Ne pas oublier de modifier le fonctionnement par défaut relatif aux différents contenus, cad: publié par défaut décoché (<i>admin/content/types</i>)</li>
<li> Attention, si vous n'ajoutez pas les droits d'accès au rôle de modérateur, ça ne fonctionnera pas.. En particulier, ils doivent avoir&#160;:</li></ul>
<ul><li> module modr8
<ul><li> bypass moderation queue</li>
<li> moderate content	</li></ul></li></ul>
<ul><li> module node
<ul><li> accéder au contenu</li>
<li> administrer les types de contenu	</li>
<li> administrer les nœuds</li></ul></li></ul>
<h3><span class="mw-headline" id="Faire_envoyer_les_mails_par_Drupal_en_HTML">Faire envoyer les mails par Drupal en HTML</span></h3>
<p>D'abord le html dans les mails, c'est mal!
Oui, mais l'utilisateur lambda l'exige, alors...
C'est là&#160;:<i>admin/messaging/settings/method/overview</i>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Menu_d.C3.A9roulants">Menu déroulants</span></h3>
<p>Ces solutions demandent javascript...
</p>
<ul><li> Il faut le module <i>nice menus</i></li>
<li> Il faut également la librairie <a rel="nofollow" class="external text" href="http://drupal.org/project/jquery_ui">JQuery UI</a> plutôt pénible à installer quand on est habitué aux modules&#160;:</li>
<li> Installer le module <a rel="nofollow" class="external text" href="http://drupal.org/project/jquery_ui">JQuery</a></li>
<li> Télécharger la librairie <a rel="nofollow" class="external text" href="http://jquery-ui.googlecode.com/files/jquery.ui-1.6.zip">chez Google</a></li>
<li> Créez un répertoire drupal/site/all/libraries</li>
<li> Désarchivez  jquery.ui-1.6.zip dedans</li>
<li> Renommez le répertoire jquery.ui-1.6 en jquery.ui</li></ul>
<p><a rel="nofollow" class="external free" href="http://blog.houen.net/drupal-jquery-ui-complete-guide/">http://blog.houen.net/drupal-jquery-ui-complete-guide/</a>
</p><p><br />
Celle <a rel="nofollow" class="external text" href="http://blog.echopx.com/2010/04/dropdown-menu-in-drupal-6-theme/">là</a>, ne demande que de retoucher les css et marche parfaitement
</p>
<h3><span class="mw-headline" id="Transformer_la_page_d.27accueil">Transformer la page d'accueil</span></h3>
<p>En autre chose que le flux de news par défaut&#160;: <a rel="nofollow" class="external autonumber" href="http://biboo.net/custom-drupal-homepages">[4]</a>.
</p><p>Cette page est accessible par <i>/admin/settings/site-information</i>
(Page de garde par défaut&#160;:)
</p><p>Sinon, utilisez le module Panels (qui dépend de ctools) qui permet, sans une ligne de PHP ou de CSS, de mettre en forme son site.
</p><p>Une <a rel="nofollow" class="external text" href="http://www.hello-design.fr/conf/drupal-2011-manipuler_panels.pdf">doc</a>
</p><p>Mais c'est très lourd pour le serveur de générer des pages en panels..
</p><p><br />
</p>
<h3><span class="mw-headline" id="Ajouter_un_lien_de_menu_dans_les_menus_principaux">Ajouter un lien de menu dans les menus principaux</span></h3>
<p>/Construction du site/Menus/Liens primaires
</p><p>ou directement&#160;:
</p>
<pre>admin/build/menu-customize/primary-links
</pre>
<h3><span class="mw-headline" id="Afficher_une_image_al.C3.A9atoire">Afficher une image aléatoire</span></h3>
<p><a rel="nofollow" class="external free" href="http://blog.thetys-retz.net/post/2011/08/24/Ajouter-un-bloc-avec-une-image-al%C3%A9atoire-sous-Drupal-6-avec-CCK">http://blog.thetys-retz.net/post/2011/08/24/Ajouter-un-bloc-avec-une-image-al%C3%A9atoire-sous-Drupal-6-avec-CCK</a>
</p>
<h3><span class="mw-headline" id="Les_vues">Les vues</span></h3>
<p>C'est tout à fait fondamental dans Drupal, les vues.
</p>
<pre>/admin/build/views/edit/
</pre>
<h4><span class="mw-headline" id="Attribuer_une_URL_.C3.A0_une_vue">Attribuer une URL à une vue</span></h4>
<ul><li> Add display Page</li>
<li> Page settings / Chemin</li></ul>
<h2><span class="mw-headline" id="Twitter">Twitter</span></h2>
<ul><li> Téléchargez le <a rel="nofollow" class="external text" href="http://drupal.org/project/twitter">module Twitter</a> et le <a rel="nofollow" class="external text" href="http://drupal.org/project/oauth">module OAuth</a>, sans oublier <a rel="nofollow" class="external text" href="http://drupal.org/project/autoload">autoload</a></li>
<li> Copiez dans modules &amp; Activez</li>
<li> Activez Autoload, Twitter, TWitter actions, Twitter post, Oauth, OAuth Provider UI</li>
<li> admin/settings/twitter</li>
<li> Enregistrez vous avec votre compte TWitter de publication <a rel="nofollow" class="external text" href="https://dev.twitter.com/apps/new">ici</a></li>
<li> Copiez la clé et le secret du site Twitter vers votre module Twitter.</li>
<li> Onglet <i>Contribution</i>&#160;: </li>
<li> Sur le site Twitter, modifiez les réglages de publication de read-only à Read-Write</li></ul>
<p>et configurez l'URL de Callback (comme <a rel="nofollow" class="external free" href="http://www.CHezvous/twitter/oauth">http://www.CHezvous/twitter/oauth</a> )
</p>
<ul><li> <i>admin/settings/oauth/add</i>, Ajoutez un contexte.</li>
<li> <i>admin/user/permissions</i> Autorisez vos utilisateurs à tweeter.</li></ul>
<h2><span class="mw-headline" id="Mise_.C3.A0_jour">Mise à jour</span></h2>
<h3><span class="mw-headline" id="Du_moteur_de_Drupal">Du moteur de Drupal</span></h3>
<ul><li> Mettez le site hors-ligne /admin/settings/site-maintenance</li>
<li> Sur le serveur</li></ul>
<pre>tar zxvf drupal...tar.gz
tar zcvf drupal.backup.tar.gz /var/www///drupal
mysqldump drupal &gt; drupal.sql
cp -R drupalNew /var/www
</pre>
<ul><li> lancez /update.php</li>
<li> Vérifiez les logs&#160;: /?q=admin/reports/dblog</li>
<li> Remettez en ligne /admin/settings/site-maintenance</li></ul>
<h3><span class="mw-headline" id="Des_modules">Des modules</span></h3>
<ul><li> Mettez le site hors-ligne /admin/settings/site-maintenance</li>
<li> Sur le serveur</li></ul>
<p>tar zxvf drupal...tar.gz
tar zcvf drupal.backup.tar.gz /var/www///drupal
mysqldump drupal &gt; drupal.sql
cp -R modume /var/www//drupal/modules
</p>
<ul><li> lancez /update.php</li>
<li> Vérifiez les logs&#160;: /?q=admin/reports/dblog</li>
<li> Remettez en ligne /admin/settings/site-maintenance</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Migration_Compl.C3.A8te_Drupal_6_en_Drupal_7">Migration Complète Drupal 6 en Drupal 7</span></h3>
<ul><li> Installer le nouveau site en D7</li>
<li> Créer une db drupal vide&#160;!</li>
<li> Importer le dump SQL faite depuis le D6</li></ul>
<p>Attention ce dump sql doit être fait&#160;:
</p><p>En mode maintenance
</p><p>En ayant désactivé TOUS les modules sauf core
</p><p>En Thème Garland
</p>
<ul><li> Sur le D7, lancer un /update.php</li></ul>
<p>Si vous êtes bloqué en mode maintenance, remplacez la fin du fichier index.php par 
</p>
<pre>variable_set('maintenance_mode', 0);
menu_execute_active_handler();
</pre>
<ul><li>Si aucun noeud ne s'affiche après login, virez les clean_urls</li></ul>
<pre>drush vset clean_url 0 --yes
</pre>
<ul><li> On n'oublie pas de sauvegarder /restaure les fichiers ../sites/default/files</li></ul>
<ul><li> PLus aucun mdp ne fonctionne...la sel a été changé</li></ul>
<pre>drush user-password someuser --password="PASS"
</pre>
<p><br />
</p>
<h3><span class="mw-headline" id="Migration_6_.C3.A0_8">Migration 6 à 8</span></h3>
<p><a rel="nofollow" class="external autonumber" href="http://drupalwatchdog.com/blog/2014/12/drupal-upgrade-2">[5]</a>
</p>
<h2><span class="mw-headline" id="Debug">Debug</span></h2>
<h3><span class="mw-headline" id="Les_fichiers_en_PJ_ne_s.27afficent_pas_pour_les_anonymes">Les fichiers en PJ ne s'afficent pas pour les anonymes</span></h3>
<p>Cocher <i>voir les fichiers transférés</i> du module upload; ben oui, c'est béta!
</p>
<!-- 
NewPP limit report
Cached time: 20171019211651
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.280 seconds
Real time usage: 0.304 seconds
Preprocessor visited node count: 135/1000000
Preprocessor generated node count: 152/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key WikiBSD:pcache:idhash:113-0!*!0!!fr!*!* and timestamp 20171019211651 and revision id 2956
 -->
</div>					<div class="printfooter">
						Récupérée de «&#160;<a dir="ltr" href="http://www.openbsd-edu.net/index.php?title=Drupal&amp;oldid=2956">http://www.openbsd-edu.net/index.php?title=Drupal&amp;oldid=2956</a>&#160;»					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Menu de navigation</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Outils personnels</h3>
						<ul>
							<li id="pt-login"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Connexion&amp;returnto=Drupal.html" title="Il est recommandé de vous identifier ; ce n'est cependant pas obligatoire. [o]" accesskey="o">Se connecter</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Espaces de noms</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="index.php%3Ftitle=Drupal.html"  title="Voir la page de contenu [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="http://www.openbsd-edu.net/index.php?title=Discussion:Drupal&amp;action=edit&amp;redlink=1"  title="Discussion au sujet de cette page de contenu [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variantes</span><a href="index.php%3Ftitle=Drupal.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Affichages</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="index.php%3Ftitle=Drupal.html" >Lire</a></span></li>
															<li id="ca-viewsource"><span><a href="http://www.openbsd-edu.net/index.php?title=Drupal&amp;action=edit"  title="Cette page est protégée.&#10;Vous pouvez toutefois en visualiser la source. [e]" accesskey="e">Voir le texte source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="http://www.openbsd-edu.net/index.php?title=Drupal&amp;action=history"  title="Les versions passées de cette page (avec leurs contributeurs) [h]" accesskey="h">Historique</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>Plus</span><a href="index.php%3Ftitle=Drupal.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Rechercher</label>
						</h3>

						<form action="http://www.openbsd-edu.net/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Rechercher sur OpenWikiBSD" title="Rechercher dans OpenWikiBSD [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Spécial:Recherche" name="title"/><input type="submit" name="fulltext" value="Rechercher" title="Rechercher les pages comportant ce texte." id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Lire" title="Aller vers une page portant exactement ce nom si elle existe." id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="index.php%3Ftitle=Accueil.html"  title="Page principale"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-mainpage-description"><a href="index.php%3Ftitle=Accueil.html" title="Aller à l'accueil [z]" accesskey="z">Accueil</a></li><li id="n-recentchanges"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Modifications_r%25C3%25A9centes.html" title="Liste des modifications récentes sur le wiki [r]" accesskey="r">Modifications récentes</a></li><li id="n-randompage"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Page_au_hasard.html" title="Afficher une page au hasard [x]" accesskey="x">Page au hasard</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="Aide">Aide</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Outils</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Pages_li%25C3%25A9es%252FDrupal.html" title="Liste des pages liées qui pointent sur celle-ci [j]" accesskey="j">Pages liées</a></li><li id="t-recentchangeslinked"><a href="http://www.openbsd-edu.net/index.php?title=Sp%C3%A9cial:Suivi_des_liens/Drupal" rel="nofollow" title="Liste des modifications récentes des pages appelées par celle-ci [k]" accesskey="k">Suivi des pages liées</a></li><li id="t-specialpages"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Pages_sp%25C3%25A9ciales.html" title="Liste de toutes les pages spéciales [q]" accesskey="q">Pages spéciales</a></li><li id="t-print"><a href="http://www.openbsd-edu.net/index.php?title=Drupal&amp;printable=yes" rel="alternate" title="Version imprimable de cette page [p]" accesskey="p">Version imprimable</a></li><li id="t-permalink"><a href="http://www.openbsd-edu.net/index.php?title=Drupal&amp;oldid=2956" title="Adresse permanente de cette version de la page">Adresse permanente</a></li><li id="t-info"><a href="http://www.openbsd-edu.net/index.php?title=Drupal&amp;action=info" title="Plus d’information sur cette page">Information sur la page</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> Cette page a été modifiée pour la dernière fois le 24 janvier 2015 à 08:57.</li>
											<li id="footer-info-copyright">Le contenu est disponible sous licence <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons paternité – non commercial – partage à l’identique</a> sauf mention contraire.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:Confidentialit%C3%A9" title="OpenWikiBSD:Confidentialité">Politique de confidentialité</a></li>
											<li id="footer-places-about"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:%C3%80_propos" title="OpenWikiBSD:À propos">À propos de OpenWikiBSD</a></li>
											<li id="footer-places-disclaimer"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:Avertissements_g%C3%A9n%C3%A9raux" title="OpenWikiBSD:Avertissements généraux">Avertissements</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
							<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons paternité – non commercial – partage à l’identique" width="88" height="31"/></a>						</li>
											<li id="footer-poweredbyico">
							<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.280","walltime":"0.304","ppvisitednodes":{"value":135,"limit":1000000},"ppgeneratednodes":{"value":152,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20171019211652","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1348});});</script>
	</body>
</html>
