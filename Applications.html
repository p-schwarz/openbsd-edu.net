<!DOCTYPE html>
<html class="client-nojs" lang="fr" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Applications — OpenWikiBSD</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Applications","wgTitle":"Applications","wgCurRevisionId":2732,"wgRevisionId":2732,"wgArticleId":59,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"fr","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],"wgMonthNamesShort":["","jan","fév","mar","avr","mai","juin","juil","août","sep","oct","nov","déc"],"wgRelevantPageName":"Applications","wgRelevantArticleId":59,"wgRequestId":"bd381936c37383d92a0363dc","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@1x2qlv5",function($,jQuery,require,module){mw.user.options.set({"variant":"fr"});});mw.loader.implement("user.tokens@1iezen7",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=fr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.interface%257Cskins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=fr&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.29.0"/>
<link rel="shortcut icon" href="http://www.openbsd-edu.net/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OpenWikiBSD (fr)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://www.openbsd-edu.net/api.php?action=rsd"/>
<link rel="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Flux Atom de OpenWikiBSD" href="./index.php%3Ftitle=Sp%25C3%25A9cial:Modifications_r%25C3%25A9centes&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Applications rootpage-Applications skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="fr">Applications</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">De OpenWikiBSD</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Aller à :					<a href="index.php%3Ftitle=Applications.html#mw-head">navigation</a>, 					<a href="index.php%3Ftitle=Applications.html#p-search">rechercher</a>
				</div>
				<div id="mw-content-text" lang="fr" dir="ltr" class="mw-content-ltr"><p>pkg_add est votre meilleur ami ici.
</p><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle" class="toctitle"><h2>Sommaire</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Applications.html#RSync"><span class="tocnumber">1</span> <span class="toctext">RSync</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="index.php%3Ftitle=Applications.html#Debug"><span class="tocnumber">1.1</span> <span class="toctext">Debug</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="index.php%3Ftitle=Applications.html#Unison"><span class="tocnumber">2</span> <span class="toctext">Unison</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="index.php%3Ftitle=Applications.html#Mirror"><span class="tocnumber">3</span> <span class="toctext">Mirror</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="index.php%3Ftitle=Applications.html#ntp"><span class="tocnumber">4</span> <span class="toctext">ntp</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="index.php%3Ftitle=Applications.html#CVSup"><span class="tocnumber">5</span> <span class="toctext">CVSup</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="index.php%3Ftitle=Applications.html#apcupsd"><span class="tocnumber">6</span> <span class="toctext">apcupsd</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="index.php%3Ftitle=Applications.html#Vim"><span class="tocnumber">7</span> <span class="toctext">Vim</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="index.php%3Ftitle=Applications.html#rdesktop"><span class="tocnumber">8</span> <span class="toctext">rdesktop</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="index.php%3Ftitle=Applications.html#Stunnel_:_Chiffrer_des_protocoles_en_clair_.C3.A0_moindre_frais"><span class="tocnumber">9</span> <span class="toctext">Stunnel&#160;: Chiffrer des protocoles en clair à moindre frais</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="index.php%3Ftitle=Applications.html#Privoxy.2C_un_peu_de_vie_priv.C3.A9e_dans_ce_web_de_publicitaires"><span class="tocnumber">10</span> <span class="toctext">Privoxy, un peu de vie privée dans ce web de publicitaires</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="RSync">RSync</span></h2>
<p>rsync est un excellent outil de synchronisation de fichiers. Il gère les ajouts, les mises à jours et les suppressions si on le désire.
</p><p>Rsync possède plusieurs modes de fonctionnement: 
</p><p>Client rsync avec serveur-rsyncd ou alors client Rsync seul.
Dans tous les cas, vous devez installer rsync. 
</p><p>Coté client&#160;: pkg_add
</p><p>Reste à créer le répertoire qui doit servir de répertoire de téléchargement en donnant les droits à nobody en lecture.<br /> Si vous voulez crypter le flux rsync, cela est permis d'origine en tapant&#160;:<br /><i><b>rsync -e ssh -var Source Destination </b></i>var pour Verbose/archive/récursif.<i><b><br /></b></i>Ceci fonctionne sans démon serveur!!! Mais, en revanche ,l'utilisateur <u>doit</u> avoir un shell valide sur le serveur!! Ce qui peut poser problème. La solution est de faire passer le flux rsync en clair dans un tunnel SSH.Vous devez activer la partie serveur dans ce cas.<br /><u>Utilisation pratique </u>: Je ne travaille que sur le portable dans différents lieux. Je désire synchroniser mon répertoire de travail local sur le serveur de fichier; et ce sans aucune intervention manuelle.Facile avec rsync!&lt;/font&gt;
</p><p><font face="Times New Roman">J'ai créé sur le serveur un répertoire /home/sauve qui contiendra le miroir de mes fichiers.<br /> J'ai exporté, après l'avoir créé, ma clé publique sur ce serveur. Comme ça la connexion se fait sans mot de passe. [OpenSSH.htm Authentification par clé publique].<br /> J'utilise un [Fichiers/synchro petit script] qui teste à intervalle de temps régulier, dans la crontab que je suis dans le bon plan d'adressage. Si c'est la cas, la synchro s'effectue automatiquement, je vois juste la LED du disque jouer la samba. Si je supprime ou modifie un fichier en local, il sera mis à jour ou supprimé sur le serveur. Si un fichier est modifié ou supprimé sur le serveur, il sera écrasé par celui présent sur ma machine locale à la prochaine synchro. C'est mon portable le maitre et le serveur la copie. <i><b>man rsync</b></i> pour modifier ce comportement. <br /> Le coté volubile de rsync se manifestera par la mention <i>deleting</i> pour ce qui sera supprimé sur le répertoire distant et rien pour ce qui sera ajouté.</font>
</p><p><font face="Times New Roman"><u>Coté Serveur</u>:<br /> Installer puis ajouter dans le fichier /etc/inetd.conf la ligne suivante&#160;:<br /><b>rsync stream tcp nowait root /usr/local/bin/rsync rsyncd --daemon <br /></b>Forcez la relecture du fichier de configuration. Rsync utilise le port 873 tcp.<br /><font face="Times New Roman">Pour autoriser suivant l'ip, l'accès à ce serveur vous devez ajouter des règles dans /etc/host.allow ,/etc/host.deny. Vous pouvez faire la même chose avec pf.</font><br /> Reste à créer le fichier de configuration de rsync /etc/rsyncd.conf<br /><br /><i>uid = nobody<br /></i></font><i>gid = nobody<br /> use chroot = yes<br /> syslog facility = local5<br /> pid file = /var/run/rsyncd.pid<br /><font face="Times New Roman"><br /></font>[ Espace ]<br /> path = /telechargement<br /> comment = Espace de téléchargement</i>
</p><p><font face="Times New Roman">Pour faire passer le flux rsync en clair dans un tunnel SSH. Pour la création du tunnel&#160;:Doc [OpenSSH.htm OpenSSH]. <br /><i><b>ssh compte_sur_la_machine </b></i><a rel="nofollow" class="external text" href="mailto:distante@IP"><i><b>distante@IP</b></i></a><i><b>_serveur -N -L 4321: </b></i><font face="Times New Roman"><a rel="nofollow" class="external text" href="mailto:distante@IP"><i><b>IP</b></i></a><i><b>_serveur </b></i></font><b><i>:873 &amp; <br /> rsync rsync://127.0.0.1:4321/répertoire/module.</i></b>
</p><p><br />
</p>
<h3><span class="mw-headline" id="Debug">Debug</span></h3>
<pre>bash: rsync: command not found
</pre>
<p>IL vous faut installer rsync sur le serveur distant en cas de copie par ssh&#160;:
</p>
<pre>/usr/local/bin/rsync --dry-run -avzhe ssh /zroot/share/ root@machine:/snapshot
</pre>
<h2><span class="mw-headline" id="Unison">Unison</span></h2>
<p>Unison&lt;/u&gt;</font>&lt;/font&gt;<br /> Bon, rsync c'est formidable si je travaille sur <u>une</u> machine et que je recopie toujours vers une ou plusieurs <u>autres</u> machines. Mais si jamais je veux travailler sur <u>plusieurs</u> et garder un parc de machines synchronisées entre elles, rsync va toujours écraser les fichiers dans le meme sens......<br />
</p><p>Voila Unison, qui s'appuie sur l'efficace algorithme rsync (donc sur SSH, aussi!) ou CVS et d'autres encore et qui va synchroniser les fichiers et répertoires en s'appuyant sur l'horodatage des fichiers. <br /> Cerise sur le gateau, Unison fonctionne sur plusieurs plateformes (Unix, bien sur, mais aussi Windows...). <br />
</p><p>On ne parlera ici que de ce que l'on connait&#160;: Unison /RSync/OpenSSH et Unison \Windows.../Cygwin, désolé, mais j'en ai eu besoin; madame travaille encore avec des logiciels sous Windows&#160;;---(<br />
</p><p><u>Install sous OpenBSD </u>: <br />
</p><p>Quelques soucis pour une fois. Le port <i>/usr/ports/net/unison</i> est un portage de la version FreeBSD avec ajout de la fonction GUI (en interface graphique quoi, mais sans X11 d'installé sur le serveur, ça marche moins bien....), mais malgré tous mes efforts, impossible de faire fonctionner la version texte; pas de [Install_appli.html#parfum FLAVOR,] rien.... alors j'ai bricolé&#160;:<br /> - Installation classique pour qu'il lance l'installation du langage Ocaml, puis, lors du plantage&#160;:<br /> - Téléchargement du packages.. (j'ai bien dit que j'avais bricolé)&#160;:<br /><i><b>ftp <a rel="nofollow" class="external free" href="ftp://ftp.openbsd.org/pub/OpenBSD/3.3/packages/i386/unison-2.91.tgz">ftp://ftp.openbsd.org/pub/OpenBSD/3.3/packages/i386/unison-2.91.tgz</a></b></i><br />
</p><p>Puis<i><b> /usr/local/bin/unison -batch -times /home/repertoire_local ssh:user@mon_serveur_distant//le_chemin_de_sauvegarde</b></i><br /> -batch pour scripter le tout<br /> -times pour synchroniser les heures de modification<br /> Attention, c'est bien <i>ssh:user@mon_serveur_distant//le_chemin_de_sauvegarde et non '<b> ssh:user@mon_serveur_distant//le_chemin_de_sauvegarde</b></i><b><br /><br /><u>Install sous Windows </u>: <br /> - Attention, c'est long&#160;: clic gauche / démarrer / clic gauche / lancer Firebird / Aller <a rel="nofollow" class="external text" href="http://www.rycks.com/documentations/unison/">ici</a>. /télécharger la version Windows avec ou sans GUI.<br /> - Puis vous devez installer les outils cygnus (un portage sous Windows des outils Unix de base, comme SSH, par exemple) qui sont indispensables pour avoir un client SSH en ligne de commande, ce que ne sait pas faire l'excellent [OpenSSH.htm#Client_Win Putty].<br /><br /></b>
</p>
<h2><span class="mw-headline" id="Mirror">Mirror</span></h2>
<p>Mirror est un outil permettant de faire un miroir ftp. J'ai mis cela en place afin de récupérer les bases des sites interdits pour SquidGuard sur le serveur de l'université de Toulouse.<br /> Aller dans /usr/ports/net/mirror, faire un <i><b>make &amp;&amp; make install.</b></i><br /> Pour lancer l'application faire un <i><b>/usr/local/bin/mirror -d /etc/mirror.conf</b></i><br /> Avec dans <u>/etc/</u><u>mirror.conf </u> les informations suivantes&#160;:<br /> package=squidguard <br /> comment= mise à jour de SquidGuard<br /> site=ftp.univ-tlse1.fr<br /> remote_dir=/pub/reseau/cache/squidguard_contrib<br /> local_dir=/update_slis<br /><br /> Mettre cela dans une crontab.&lt;/font&gt;
</p><p>Pour des raisons de performances, préférez rsync.
</p>
<h2><span class="mw-headline" id="ntp">ntp</span></h2>
<p>Une [../../Linux/Doc/outils-tcp-ip/Linux-temps.html documentation] plus complète sur ntp.Très proche de ce qui se fait sous Linux, on utilise aussi le ports ntp. Le démon est <b>/usr/local/sbin/ntpd</b>, le fichier de configuration est <b>/etc/ntp.conf</b>. Attention, il n'y a pas de sous répertoire /etc/ntp comme sous Linux. Le lancement du démon ntpd se fait en modifiant le fichier <b>/etc/rc.conf</b>&#160;:<br /> ntpd=NO devient ntpd=YES #run ntpd if exists <br /> ntpdate_flags= IP_ou_nom_de_votre_serveur_de_temps
</p><p><b><u>/etc/ntp.conf</u></b>
</p><p>server ntp1.jussieu.fr prefer #Serveur préféré de strate supérieure<br /> server 193.54.82.20 # Autre serveur <br /> server 127.127.1.0 # local clock (?)<br /> driftfile /etc/ntp.drift # Déviation moyenne <br /> multicastclient #Ecoute par défaut sur l'adresse multicast ( 224.0.1.1)<br /> broadcastdelay 0.008<br /> authenticate no #On peut se mettre à l'heure sans s'authentifier.
</p><p>statsdir /var/log/ntpstat # Tous les fichiers de log dans /var/log commenceront par ntpstat...<br /> statistics clockstats # Enregistre les statistiques du pilote d'horloge<br /> statistics loopstats # Enregistre les statistique de mise à jour de l'horloge<br /> statistics peerstats # Enregistre les statistiques sur les serveurs de strate supérieure (<b>Ses</b> serveurs)
</p><p><a rel="nofollow" class="external text" href="http://tycho.usno.navy.mil/NTP/Version4/monopt.htm">Plus d'info</a><br /> # Fichier d historique<br /> logfile /var/log/xntpd #Historique du démon
</p><p>L'interrogation du démon se fait avec la commande interactive <b>/usr/local/sbin/ntpq</b>:
</p><p>ntpq &gt; <b>pe (Equivalent à /usr/local/sbin/ntpq -p, sans interactivité) </b><br /> remote refid st t when poll reach delay offset jitter<br /> ==============================================================================<br /> joliot.net.espc 0.0.0.0 16 u - 64 0 0.000 0.000 4000.00<br /> *horlogegps.rese .GPS. 1 u 6 64 37 6.195 1.227 1.824
</p><p>ntpq&gt; <b>rv</b><br /> status=0644 leap_none, sync_ntp, 4 events, event_peer/strat_chg,<br /> version="ntpd 4.1.71-a Tue Apr 9 16:54:07 CEST 2002 (1)",<br /> processor="i386", system="OpenBSD/3.0", leap=00, stratum=2,<br /> precision=-18, rootdelay=5.440, rootdispersion=194.627, peer=15389,<br /> refid=horlogegps.reseau.jussieu.fr,<br /> reftime=c07826aa.e644523f Mon, Apr 29 2002 22:08:10.899, poll=6,<br /> clock=c07826ec.d8e6c093 Mon, Apr 29 2002 22:09:16.847, state=4,<br /> offset=0.062, frequency=45.325, jitter=0.842, stability=1.621<br /><br /> Un <b>?</b> dans ntpq vous proposera une liste d'option.
</p><p>Si le nombre de vos clients est très important, vous pouvez utiliser les modes broadcast et multicast, pour cela il faut ajouter dans ntp.conf du serveur <b>broadcast adresse_de_broadcast_du_reseau</b>.<br /> N'oubliez pas que votre serveur de temps sera forcément client de temps d'un serveur de strate supérieure..
</p><p><u>Les clients<br />
Automatiquement installé; Vous n'avez qu'à régler le serveur ntp dans <i>/etc/rc.local</i>.
</p><p><br />
</p>
<h2><span class="mw-headline" id="CVSup">CVSup</span></h2>
<p>Maintenant que vous savez utiliser le [OpenBSD-maj.html#1.2 client CVSup], imaginez ce qui se passe quand vous mettez à jour, simultanément, vos nombreuses machines sur un seul serveur CVSup... Sachez que CVSupd est fort gourmand en ressources CPU &lt;u&gt;et</u> disques, vous risquez de mettre à genoux votre serveur. Par conséquent, si vous avez plus de deux ou trois machines à maintenir, pensez à installer votre propre serveur CVSup, c'est facile et servira la communauté si vous décidez de l'ouvrir au monde. Pour notre dizaine de serveurs OpenBSD, nous avions installé cvsup.ac-creteil.fr.
</p><p>Le serveur cvsupd n'existe pas en port, uniquement en packages&#160;:<br /><i><b>pkg_add <a rel="nofollow" class="external free" href="ftp://ftp.openbsd.org/pub/OpenBSD/">ftp://ftp.openbsd.org/pub/OpenBSD/</a><u>3.1</u> et <u>3.2</u>/packages/i386/<u>cvsupd-16.1f-no_x11.tgz</u>.<br /> pkg_add <a rel="nofollow" class="external free" href="ftp://ftp.openbsd.org/pub/OpenBSD/">ftp://ftp.openbsd.org/pub/OpenBSD/</a><u>3.0</u>/packages/i386/<u>cvsupd-16.1e-no_x11-static.tgz</u><br /></b></i>Cette version du démon serveur fonctionne hors mode graphique (no_x11), hors librairie dynamique (-static) pour la version 3.0, pas pour la 3.1,2. Le démon serveur tourne sur le port 5999/TCP.Un ensemble de fichiers avec son arborescence constitue une <i>collection</i>. Les collections sont des sous-répertoires du <i>dépôt</i>.
</p><p><u>Coté serveur </u>:<br /><i><b>mkdir -p /base/cvsup/test </b></i> # <i>Crée le répertoire test sous /base/cvsup avec création des répertoires intermédiaires (-p)<br /><b>cd /base/cvsup/test</b></i> <i><br /><b>vi releases </b># </i>cvs list=list.cvs prefix=/base/ <i>/chemin_du_dépôt'<b><br /></b>vi list.cvs </i><b># upgrade </b>
</p><p>lancement du démon dans [Fichiers_Conf.htm /etc/rc.local ]:<br /><tt><i><b>/usr/local/sbin/cvsupd -b /usr/local/etc/cvsup -C 5 -l @daemon<br /><br /></b></i><u>Options de la ligne de commande </u>:<br /> -b </tt><i>base </i> utilise ce répertoire pour les fichiers de config (défaut&#160;: /usr/local/etc/cvsup)<br /> -c <i>Chemin_de_la_collection </i> defaut&#160;: <i>sup<br /></i>-C <i>Maxclient </i> Nombre maximum de clients servis simultanément
</p><p><font face="Times New Roman">root@Hendrix:/base/sup/test:#&gt; <i><b>/usr/local/sbin/cvsupd -b /base </b></i> <u>Le serveur</u><i><b><br /></b></i>2002.07.13 22:28:55 CEST [20542]: CVSup server started<br /> 2002.07.13 22:28:55 CEST [20542]: Software version: SNAP_16_1e<br /> 2002.07.13 22:28:55 CEST [20542]: Protocol version: 17.0<br /> 2002.07.13 22:28:55 CEST [20542]: Ready to service requests<br /> 2002.07.13 22:36:51 CEST [20542]: +0 hphil@localhost (Hendrix) [SNAP_16_1e/17.0]<br /> 2002.07.13 22:36:51 CEST [20542]: =0 [0Kin+24Kout] test/cvs<br /> 2002.07.13 22:36:51 CEST [20542]: -0 [0Kin+24Kout] Finished successfully<br /> 2002.07.13 22:36:51 CEST [20542]: Going down<br /><br /></font>root@Hendrix:/dest:#&gt; <i><b>cvsup -g -L 2 ./supfile </b></i><u>Le client</u><i><b><br /></b></i>Parsing supfile "./supfile"<br /> Connecting to localhost<br /> Connected to localhost<br /> Server software version: SNAP_16_1e<br /> Negotiating file attribute support<br /> Exchanging collection information<br /> Establishing multiplexed-mode data connection<br /> Running<br /> Updating collection test/cvs<br /> Mkdir <i>les_repertoires</i><br /> Create <i>les_fichiers</i><br /> ..<br /> ..<br /> SetAttrs <i>Les_fichiers&amp;répertoires</i><br /> ..<br /> ..<br /> Shutting down connection to server<br /> Finished successfully<br /><font face="Times New Roman"><font size="4"><br /></font>La documentation de base (orientée FreeBSD) du créateur de CVSup&#160;: </font><a rel="nofollow" class="external text" href="http://www.polstra.com/projects/freeware/CVSup/faq.html#testserver"><font face="Times New Roman">http://www.polstra.com/projects/freeware/CVSup/faq.html#testserver</font></a>
</p>
<h2><span class="mw-headline" id="apcupsd">apcupsd</span></h2>
<p>Gestion de l'onduleur 
</p><p>Un classique <i><b>make &amp;&amp; make install &amp;&amp; make clean</b>, </i>puis une édition du fichier de configuration&#160;: <b>/etc/upsd.conf</b>.<br />
</p><p>A finir.... quand meme....dès que je trouve comment on fait causer sur le port USB......<br />
</p>
<h2><span class="mw-headline" id="Vim">Vim</span></h2>
<p><b><u><font size="4">9 Vi iMproved&#160;: Vim</font></u></b>
</p><p>Vim a un énorme avantage sur vi&#160;: La colorisation syntaxique&#160;:<br />
</p>
<pre><font color="#0000ff"># IPv4 and IPv6 addresses are recognized.</font><br /><font color="#008080">fw_internet     </font>= "<font color="#2e8b57"><b>192.168.201.2</b></font>"<br /><font color="#008080">fw_testlan      </font>= "<font color="#2e8b57"><b>192.168.101.1</b></font>"<br /><font color="#008080">fw_testlan_real </font>= "<font color="#2e8b57"><b>60.60.60.1</b></font>"<br /><br /><font color="#008080">fw_testlan6 </font>= "<font color="#2e8b57"><b>3FFA:B80:840::</b></font><font color="#ff00ff">/48</font>"<br /><font color="#008080">blackbox6   </font>= "<font color="#2e8b57"><b>3FFA:B80:83B:2::1</b></font>"<br /><br /><font color="#008080">testlan_mgmt </font>= "<font color="#2e8b57"><b>192.168.101.86</b></font>, <font color="#2e8b57"><b>192.168.101.87</b></font>, <font color="#2e8b57"><b>192.168.101.88</b></font><font color="#ff00ff">/28</font><br />                <font color="#2e8b57"><b>192.168.101.96</b></font><font color="#ff00ff">/29</font>, <font color="#2e8b57"><b>192.168.101.100</b></font>"<br /><br /><font color="#0000ff"># Error: forgot opening curly bracket, also works outside quotes.</font><br /><font color="#008080">curly_err </font>= "<font color="#2e8b57"><b>192.168.1.1</b></font>, <font color="#2e8b57"><b>192.168.1.2</b></font> <span style="background-color: rgb(255,0,0)"><font color="#ffffff">}</font></span>"<br /><br /><br /><font color="#0000ff">### Set ###</font><br /><br /><font color="#804040"><b>set</b></font> limit states <font color="#ff00ff">10000</font>, frags <font color="#ff00ff">2000</font><br /><font color="#804040"><b>set</b></font> loginterface <font color="#008080">$ext_if			</font>(pris sur <a rel="nofollow" class="external free" href="http://www.sentia.org">http://www.sentia.org</a>)
</pre>
<p>Sympathique,non&#160;??<br /> En revanche, vim est un port, il faut donc l'installer.<br /> Sur le routeur filtrant, évidemment x11 n'est pas installé. Donc, lors de la compilation, vous allez avoir un souci jusqu'à ce que vous lisiez [Install_appli.html#parfum ceci.]<br /><i><b>cd /usr/ports/editors/vim/ &amp;&amp; env FLAVOR="no_x11" make &amp;&amp; '''''</b></i>env FLAVOR="no_x11" make install &amp;&amp; '''''<i><b>make clean</b></i><br /> Puis, vous copiez [Fichiers/pf.vim pf.vim] dans le bon répertoire:<br /><i><b>cp pf.vim'''''</b></i> /usr/local/share/vim/vim61/syntax<b><i><br /><br /> Vous avez la possibilité d'ajouter la détection de pf.conf, à deux endroits&#160;:<br /></i>/usr/local/share/vim/vim61/filetype.vim<i> Pour tous les utilisateurs<br /></i>~/.vim/filetype.vim '</b>Pour ce seul utilisateur<i><br /> N'oubliez pas d'ajouter les deux lignes suivantes&#160;:<br /> " pf.conf<br /><font color="#000000"> au BufNewFile,BufRead pf.conf* setf pf <br /></font><br /> Puis, lors de la prochaine édition d'un pf.conf, vous n'aurez qu'à taper&#160;:<br /></i><b>:syntax on ''</b><i>et, sous vos yeux</i> ébahis, la couleur apparait!!<br /><br /> Attention, ceci, pour d'obscures raisons, ne fonctionne pas sous un shell distant (SSH)....Dommage, c'est un peu la seule chose qui tourne sur un FW...<br /><br /><u>Quelques trucs , en vrac, sous vim</u>:<br /> - Avoir un mode enregistré&#160;:<br /> En mode commande tapez <i><b>q0</b></i> puis effectuez la suite d'opération que vous voulez enregistrer. puis <i><b>q </b></i>(en mode commande)de nouveau à la fin.<br /> Désormais un <i><b>@0</b></i> rétiterera l'opération . Ca marche de q0 à q9.<br /> - Aller en début de ligne&#160;: '<b><br /> - Aller en fin de ligne&#160;: </b><i>$</i><b><br /><br /></b>
</p>
<h2><span class="mw-headline" id="rdesktop">rdesktop</span></h2>
<p>Terminal Server Client sous OpenBSD&#160;!
</p><p>Pour une fois, je vais vous parler d'un test sur une Linux Debian... je n'ai pas de machine OPenBSD avec X11 installé... Mais rdesktop est desormais dans les ports.
</p>
<pre>-Un tour sur rdesktop.org pour rapatrier les sources de la 1.2.0:<br /><i><b> bunzip2 rdesktop...<br /> tar zxvf rdesktop...<br /> cd rdesktop-1.2.0<br /> vi configure<br /></b></i> ajouter à la ligne contenant les emplacements de openssl ():147 le lieu suivant&#160;:<br /><i><b> /usr/bin/openssl, </b></i>c'est comme ca sur la debian!<br /> puis <i><b>./configure --with-openssl<br /> make <br /> make install</b></i><br /><br /> puis on copie le binaire dans /usr/bin/X11R6:rdesktop<br /><br /> puis<br /> rdesktop -u mapomme monserveur<br /> tada!!!!!<br /> snif.<br /> C'est beau<br /><br /><br />
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Stunnel_:_Chiffrer_des_protocoles_en_clair_.C3.A0_moindre_frais">Stunnel&#160;: Chiffrer des protocoles en clair à moindre frais</span></h2>
<p><i>Neuf</i>
</p><p>pkg_add stunnel-4.15p1.tgz
</p>
<pre>
parsing stunnel-4.15p1
adding group _stunnel
adding user _stunnel
useradd: Warning: home directory `/var/stunnel' doesn't exist, and -m was not specified
installed /etc/stunnel/stunnel.conf from /usr/local/share/examples/stunnel/stunnel.conf-sample**************************************************  | 99%
stunnel-4.15p1: complete                                                                                                                               
--- stunnel-4.15p1 -------------------
After stunnel is installed, you have to create a server certificate and
put the result in /etc/ssl/private/stunnel.pem. For more information on
how to create certificates, read ssl(8). For more information on stunnel,
read stunnel(8).

You can edit /etc/rc.local so that stunnel is started automatically:
    if [ -x /usr/local/sbin/stunnel ]; then
        echo -n ' stunnel';       /usr/local/sbin/stunnel
    fi
</pre>
<p><br />
</p>
<h2><span class="mw-headline" id="Privoxy.2C_un_peu_de_vie_priv.C3.A9e_dans_ce_web_de_publicitaires">Privoxy, un peu de vie privée dans ce web de publicitaires</span></h2>
<p><i>Neuf</i>
</p>
<pre>
pkg_add -v ftp://ftp.openbsd.org/pub/OpenBSD/$(uname -r)/packages/$(uname -m)/privoxy-3.0.3p0.tgz    
parsing privoxy-3.0.3p0
Dependencies for privoxy-3.0.3p0 resolve to: pcre-6.4p1
adding group _privoxy
adding user _privoxy
installed /etc/privoxy/config from /usr/local/share/examples/privoxy/config                                                                     | 27%
installed /etc/privoxy/default.action from /usr/local/share/examples/privoxy/default.action                                                     | 32%
installed /etc/privoxy/default.filter from /usr/local/share/examples/privoxy/default.filter                                                     | 35%
installed /etc/privoxy/standard.action from /usr/local/share/examples/privoxy/standard.action                                                   | 36%
installed /etc/privoxy/templates/blocked from /usr/local/share/examples/privoxy/templates/blocked                                               | 37%
installed /etc/privoxy/templates/cgi-error-404 from /usr/local/share/examples/privoxy/templates/cgi-error-404                                   | 38%
installed /etc/privoxy/templates/cgi-error-bad-param from /usr/local/share/examples/privoxy/templates/cgi-error-bad-param                       | 38%
installed /etc/privoxy/templates/cgi-error-disabled from /usr/local/share/examples/privoxy/templates/cgi-error-disabled                         | 39%
installed /etc/privoxy/templates/cgi-error-file from /usr/local/share/examples/privoxy/templates/cgi-error-file                                 | 39%
installed /etc/privoxy/templates/cgi-error-file-read-only from /usr/local/share/examples/privoxy/templates/cgi-error-file-read-only             | 40%
installed /etc/privoxy/templates/cgi-error-modified from /usr/local/share/examples/privoxy/templates/cgi-error-modified                         | 41%
installed /etc/privoxy/templates/cgi-error-parse from /usr/local/share/examples/privoxy/templates/cgi-error-parse                               | 41%
installed /etc/privoxy/templates/cgi-style.css from /usr/local/share/examples/privoxy/templates/cgi-style.css                                   | 42%
installed /etc/privoxy/templates/connect-failed from /usr/local/share/examples/privoxy/templates/connect-failed                                 | 43%
installed /etc/privoxy/templates/default from /usr/local/share/examples/privoxy/templates/default                                               | 43%
installed /etc/privoxy/templates/edit-actions-add-url-form from /usr/local/share/examples/privoxy/templates/edit-actions-add-url-form           | 44%
installed /etc/privoxy/templates/edit-actions-for-url from /usr/local/share/examples/privoxy/templates/edit-actions-for-url                     | 49%
installed /etc/privoxy/templates/edit-actions-for-url-filter from /usr/local/share/examples/privoxy/templates/edit-actions-for-url-filter
installed /etc/privoxy/templates/edit-actions-list from /usr/local/share/examples/privoxy/templates/edit-actions-list                           | 50%
installed /etc/privoxy/templates/edit-actions-list-button from /usr/local/share/examples/privoxy/templates/edit-actions-list-button             | 51%
installed /etc/privoxy/templates/edit-actions-list-section from /usr/local/share/examples/privoxy/templates/edit-actions-list-section           | 51%
installed /etc/privoxy/templates/edit-actions-list-url from /usr/local/share/examples/privoxy/templates/edit-actions-list-url                   | 52%
installed /etc/privoxy/templates/edit-actions-remove-url-form from /usr/local/share/examples/privoxy/templates/edit-actions-remove-url-form     | 53%
installed /etc/privoxy/templates/edit-actions-url-form from /usr/local/share/examples/privoxy/templates/edit-actions-url-form                   | 53%
installed /etc/privoxy/templates/mod-local-help from /usr/local/share/examples/privoxy/templates/mod-local-help                                 | 54%
installed /etc/privoxy/templates/mod-support-and-service from /usr/local/share/examples/privoxy/templates/mod-support-and-service               | 54%
installed /etc/privoxy/templates/mod-title from /usr/local/share/examples/privoxy/templates/mod-title
installed /etc/privoxy/templates/mod-unstable-warning from /usr/local/share/examples/privoxy/templates/mod-unstable-warning
installed /etc/privoxy/templates/no-such-domain from /usr/local/share/examples/privoxy/templates/no-such-domain                                 | 54%
installed /etc/privoxy/templates/show-request from /usr/local/share/examples/privoxy/templates/show-request                                     | 55%
installed /etc/privoxy/templates/show-status from /usr/local/share/examples/privoxy/templates/show-status                                       | 57%
installed /etc/privoxy/templates/show-status-file from /usr/local/share/examples/privoxy/templates/show-status-file                             | 57%
installed /etc/privoxy/templates/show-url-info from /usr/local/share/examples/privoxy/templates/show-url-info                                   | 58%
installed /etc/privoxy/templates/show-version from /usr/local/share/examples/privoxy/templates/show-version                                     | 58%
installed /etc/privoxy/templates/toggle from /usr/local/share/examples/privoxy/templates/toggle                                                 | 59%
installed /etc/privoxy/templates/toggle-mini from /usr/local/share/examples/privoxy/templates/toggle-mini                                       | 60%
installed /etc/privoxy/templates/untrusted from /usr/local/share/examples/privoxy/templates/untrusted                                           | 61%
installed /etc/privoxy/user.action from /usr/local/share/examples/privoxy/user.action*********                                                  | 61%
privoxy-3.0.3p0: complete                                                                                                                            
--- privoxy-3.0.3p0 -------------------
You will need to edit /etc/rc.local as appropriate and add a
section similar to the following so that privoxy is started
automatically:

    if [ -x /usr/local/sbin/privoxy ]; then
            echo -n ' privoxy';
            /usr/local/sbin/privoxy --user _privoxy._privoxy \
                    /etc/privoxy/config
    fi
</pre>
<ul><li> Ajout des lignes demandées à rc.local</li>
<li> Modif du fichier de config&#160;:</li></ul>

<!-- 
NewPP limit report
Cached time: 20171020051035
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.500 seconds
Real time usage: 0.504 seconds
Preprocessor visited node count: 498/1000000
Preprocessor generated node count: 1020/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key WikiBSD:pcache:idhash:59-0!*!*!!fr!*!* and timestamp 20171020051034 and revision id 2732
 -->
</div>					<div class="printfooter">
						Récupérée de «&#160;<a dir="ltr" href="http://www.openbsd-edu.net/index.php?title=Applications&amp;oldid=2732">http://www.openbsd-edu.net/index.php?title=Applications&amp;oldid=2732</a>&#160;»					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Menu de navigation</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Outils personnels</h3>
						<ul>
							<li id="pt-login"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Connexion&amp;returnto=Applications.html" title="Il est recommandé de vous identifier ; ce n'est cependant pas obligatoire. [o]" accesskey="o">Se connecter</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Espaces de noms</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="index.php%3Ftitle=Applications.html"  title="Voir la page de contenu [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="http://www.openbsd-edu.net/index.php?title=Discussion:Applications&amp;action=edit&amp;redlink=1"  title="Discussion au sujet de cette page de contenu [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variantes</span><a href="index.php%3Ftitle=Applications.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Affichages</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="index.php%3Ftitle=Applications.html" >Lire</a></span></li>
															<li id="ca-viewsource"><span><a href="http://www.openbsd-edu.net/index.php?title=Applications&amp;action=edit"  title="Cette page est protégée.&#10;Vous pouvez toutefois en visualiser la source. [e]" accesskey="e">Voir le texte source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="http://www.openbsd-edu.net/index.php?title=Applications&amp;action=history"  title="Les versions passées de cette page (avec leurs contributeurs) [h]" accesskey="h">Historique</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>Plus</span><a href="index.php%3Ftitle=Applications.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Rechercher</label>
						</h3>

						<form action="http://www.openbsd-edu.net/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Rechercher sur OpenWikiBSD" title="Rechercher dans OpenWikiBSD [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Spécial:Recherche" name="title"/><input type="submit" name="fulltext" value="Rechercher" title="Rechercher les pages comportant ce texte." id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Lire" title="Aller vers une page portant exactement ce nom si elle existe." id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="index.php%3Ftitle=Accueil.html"  title="Page principale"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-mainpage-description"><a href="index.php%3Ftitle=Accueil.html" title="Aller à l'accueil [z]" accesskey="z">Accueil</a></li><li id="n-recentchanges"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Modifications_r%25C3%25A9centes.html" title="Liste des modifications récentes sur le wiki [r]" accesskey="r">Modifications récentes</a></li><li id="n-randompage"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Page_au_hasard.html" title="Afficher une page au hasard [x]" accesskey="x">Page au hasard</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="Aide">Aide</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Outils</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Pages_li%25C3%25A9es%252FApplications.html" title="Liste des pages liées qui pointent sur celle-ci [j]" accesskey="j">Pages liées</a></li><li id="t-recentchangeslinked"><a href="http://www.openbsd-edu.net/index.php?title=Sp%C3%A9cial:Suivi_des_liens/Applications" rel="nofollow" title="Liste des modifications récentes des pages appelées par celle-ci [k]" accesskey="k">Suivi des pages liées</a></li><li id="t-specialpages"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Pages_sp%25C3%25A9ciales.html" title="Liste de toutes les pages spéciales [q]" accesskey="q">Pages spéciales</a></li><li id="t-print"><a href="http://www.openbsd-edu.net/index.php?title=Applications&amp;printable=yes" rel="alternate" title="Version imprimable de cette page [p]" accesskey="p">Version imprimable</a></li><li id="t-permalink"><a href="http://www.openbsd-edu.net/index.php?title=Applications&amp;oldid=2732" title="Adresse permanente de cette version de la page">Adresse permanente</a></li><li id="t-info"><a href="http://www.openbsd-edu.net/index.php?title=Applications&amp;action=info" title="Plus d’information sur cette page">Information sur la page</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> Cette page a été modifiée pour la dernière fois le 24 juin 2014 à 12:19.</li>
											<li id="footer-info-copyright">Le contenu est disponible sous licence <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons paternité – non commercial – partage à l’identique</a> sauf mention contraire.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:Confidentialit%C3%A9" title="OpenWikiBSD:Confidentialité">Politique de confidentialité</a></li>
											<li id="footer-places-about"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:%C3%80_propos" title="OpenWikiBSD:À propos">À propos de OpenWikiBSD</a></li>
											<li id="footer-places-disclaimer"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:Avertissements_g%C3%A9n%C3%A9raux" title="OpenWikiBSD:Avertissements généraux">Avertissements</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
							<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons paternité – non commercial – partage à l’identique" width="88" height="31"/></a>						</li>
											<li id="footer-poweredbyico">
							<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.500","walltime":"0.504","ppvisitednodes":{"value":498,"limit":1000000},"ppgeneratednodes":{"value":1020,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20171020051035","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1353});});</script>
	</body>
</html>
