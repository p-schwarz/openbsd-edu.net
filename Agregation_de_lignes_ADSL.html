<!DOCTYPE html>
<html class="client-nojs" lang="fr" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Agregation de lignes ADSL — OpenWikiBSD</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Agregation_de_lignes_ADSL","wgTitle":"Agregation de lignes ADSL","wgCurRevisionId":1709,"wgRevisionId":1709,"wgArticleId":24,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"fr","wgPageContentModel":"wikitext","wgSeparatorTransformTable":[",\t."," \t,"],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],"wgMonthNamesShort":["","jan","fév","mar","avr","mai","juin","juil","août","sep","oct","nov","déc"],"wgRelevantPageName":"Agregation_de_lignes_ADSL","wgRelevantArticleId":24,"wgRequestId":"1cd0312da60c73f6b21e66df","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready"});mw.loader.implement("user.options@1x2qlv5",function($,jQuery,require,module){mw.user.options.set({"variant":"fr"});});mw.loader.implement("user.tokens@1iezen7",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","skins.vector.js"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=fr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.interface%257Cskins.vector.styles&amp;only=styles&amp;skin=vector.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=fr&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<meta name="generator" content="MediaWiki 1.29.0"/>
<link rel="shortcut icon" href="http://www.openbsd-edu.net/favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="OpenWikiBSD (fr)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://www.openbsd-edu.net/api.php?action=rsd"/>
<link rel="copyright" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Flux Atom de OpenWikiBSD" href="./index.php%3Ftitle=Sp%25C3%25A9cial:Modifications_r%25C3%25A9centes&amp;feed=atom"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Agregation_de_lignes_ADSL rootpage-Agregation_de_lignes_ADSL skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

						<div class="mw-indicators mw-body-content">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="fr">Agregation de lignes ADSL</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">De OpenWikiBSD</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Aller à :					<a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#mw-head">navigation</a>, 					<a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#p-search">rechercher</a>
				</div>
				<div id="mw-content-text" lang="fr" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle" class="toctitle"><h2>Sommaire</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Objectifs"><span class="tocnumber">1</span> <span class="toctext">Objectifs</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Remarque_Cristollienne"><span class="tocnumber">1.1</span> <span class="toctext">Remarque Cristollienne</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Remerciements"><span class="tocnumber">1.2</span> <span class="toctext">Remerciements</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Liste_des_courses_.C3.A0_faire"><span class="tocnumber">2</span> <span class="toctext">Liste des courses à faire</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Situation"><span class="tocnumber">3</span> <span class="toctext">Situation</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Vocabulaire"><span class="tocnumber">4</span> <span class="toctext">Vocabulaire</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Gestion_du_DNS"><span class="tocnumber">5</span> <span class="toctext">Gestion du DNS</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Gestion_des_IP"><span class="tocnumber">6</span> <span class="toctext">Gestion des IP</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#D.C3.A9tection_d.27.C3.A9tat_de_la_ligne"><span class="tocnumber">7</span> <span class="toctext">Détection d'état de la ligne</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Suppression_du_SPOF"><span class="tocnumber">8</span> <span class="toctext">Suppression du  SPOF</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Au_final"><span class="tocnumber">9</span> <span class="toctext">Au final</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Sch.C3.A9ma"><span class="tocnumber">9.1</span> <span class="toctext">Schéma</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Fichier_pf.conf"><span class="tocnumber">9.2</span> <span class="toctext">Fichier pf.conf</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Fichiers_hostname"><span class="tocnumber">9.3</span> <span class="toctext">Fichiers hostname</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Tests"><span class="tocnumber">10</span> <span class="toctext">Tests</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Depuis_l.27ext.C3.A9rieur"><span class="tocnumber">10.1</span> <span class="toctext">Depuis l'extérieur</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Depuis_l.27int.C3.A9rieur"><span class="tocnumber">10.2</span> <span class="toctext">Depuis l'intérieur</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Biblio"><span class="tocnumber">11</span> <span class="toctext">Biblio</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Crapulerie"><span class="tocnumber">12</span> <span class="toctext">Crapulerie</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Objectifs">Objectifs</span></h2>
<p>Disposer d' <i>une</i> connexion Internet fiable (comme du RNIS ou du SDSL), à haut-débit (comme de l'ADSL), permanente (xDSL,Fibre,câble,...) , pas trop chère (ADSL),... 
</p><p><br />
</p>
<table border="1" cellpadding="5">
<tr>
<td> Solution
</td>
<td> Avantages
</td>
<td>Inconvénients
</td></tr>

<tr>
<td>  RTC
</td>
<td>
<ul><li> juste pour rire</li></ul>
</td>
<td>
<ul><li> le débit&#160;??</li></ul>
</td></tr>

<tr>
<td> RNIS/Numéris
</td>
<td>
<ul><li> Fiabilité </li></ul>
</td>
<td>
<ul><li> Débit trop faible</li>
<li> Pas d'adressage IP fixe</li>
<li> Non-permanence du lien</li></ul>
</td></tr>

<tr>
<td> ADSL
</td>
<td>
<ul><li> Coût</li>
<li> Débit Descendant voire montant</li>
<li> Bloc de 8 IP</li></ul>
</td>
<td>
<ul><li> Fiabilité </li>
<li> Asymétrie par principe des débits</li></ul>
</td></tr>

<tr>
<td>  SDSL
</td>
<td>
<ul><li> Fiabilité supérieure à ADSL</li></ul>
</td>
<td>
<ul><li> Débit</li>
<li> Coût</li></ul>
</td></tr>

<tr>
<td>  Liaison louée
</td>
<td>
<ul><li> Fiabilité</li></ul>
</td>
<td>
<ul><li> Débit</li>
<li> Coût</li></ul>
</td></tr>

<tr>
<td> Satellite
</td>
<td>
<ul><li> Valable loin des centres urbains</li></ul>
</td>
<td>
<ul><li> Coût&#160;?</li></ul>
</td></tr>


<tr>
<td> En attendant la fibre optique
</td>
<td>
<ul><li> Débit (très haut)	 </li>
<li> Coût faible (selon les offres grand public actuelles)	 </li></ul>
</td>
<td>
<ul><li> N'arrive pas encore à Clichy sous Bois&#160;;-)</li></ul>
</td></tr></table>
<p><br />
Bref aucune solution ne semble répondre simultanément à tous les aspects.. On va se la fabriquer nous-même cette solution.
</p><p>On achète <i>n</i> lignes ADSL à bas prix et on rend tout ça le plus transparent possible pour donner l'impression d'avoir une TRES grosse ligne (augmentation de débit) <b>ET</b> une ligne super-fiable (tolérance de pannes).
</p><p><br />
Il va falloir avoir la main sur les équipements suivants&#160;:
</p>
<ul><li> Serveurs DNS (2 en théorie, 1 seul en fait grâce à une astuce)</li>
<li> Serveurs en DMZ </li>
<li> modem-routeurs des FAI (non-indispensable, mais pratique)</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Remarque_Cristollienne">Remarque Cristollienne</span></h3>
<p>Pour les collègues de l'académie de Créteil, le rectorat nous a concocté une liste d'offres ADSL avec GTR (Garantie de Temps de rétablissement) de 4h, un bloc de 8 IP publiques, un modem-routeur préconfiguré, une offre incluant même une ligne de secours,le tout à un tarif assez raisonnable. 
</p><p>C'est parfait....sauf que&#160;:
</p>
<ul><li> GTR 4h&#160;: Impeccable, mais suppose que le bahut peut se retrouver une demi-journée sans Internet...</li>
<li> Ligne de secours&#160;: Super, sauf que on paye (assez cher) une ligne bas débit (512kb) qui ne servira jamais... De plus cette ligne doit être utilisée par le routeur VPN Amon lors de la panne de la ligne principale......Opération qui ne fonctionne pas , à l'heure actuelle... En cas de panne principale, le tunnel VPN ne se remonte pas sur la ligne de secours. J'ai bien peur d'être dans le même cas.. Mais comme le rectorat a validé la solution chez le FAI, pas de souci chez nous; ça ne fonctionne pas mieux.</li></ul>
<ul><li> 18M&#160;: <b>maximum</b>...en pratique, je constate actuellement plutôt 4 méga. PAs mal, mais si on peut avoir un équivalent 8M (1) , pourquoi se priver?</li></ul>
<p>(1)&#160;:La solution proposée ici ne vous permettra pas d'augmenter le débit individuel, mais plutôt se répartir les n postes sur plusieurs lignes. Mais votre serveur ftp à 100ko n'ira pas plus vite!
</p><p><br />
</p>
<h3><span class="mw-headline" id="Remerciements">Remerciements</span></h3>
<p>Un grand merci aux collègues de l'ex-cellule informatique de l'ex-Matice du rectorat de Créteil, plus communément appelée <b>bocal</b> pour avoir participé aux discussions autour de ce projet -et autour d'une Grim, aussi&#160;;-) .
</p>
<h2><span class="mw-headline" id="Liste_des_courses_.C3.A0_faire">Liste des courses à faire</span></h2>
<ul><li>  {2 boites de Soekris <a href="index.php%3Ftitle=Boitier_Soekris.html" title="Boitier Soekris">Boitier_Soekris</a> }  <i> Pour la version sans SPOF [<a rel="nofollow" class="external autonumber" href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#Suppression_du__SPOF">[1]</a>]</i></li>
<li> 2 abonnements FAI avec 8 IP, de la GTR, et un beau modem (de m..e car modèle grand public donc pas de SSL, SSH, SNMP...)</li>
<li> 2 boites de DVD OpenBSD dernier parfum à l'heure (4.1 pour l'instant)</li>
<li> Quelques câbles réseau pour connecter tout ça à vos baies ( 1 croisé pour la liaison Carp/Pfsync inter RoBs)</li>
<li> Quelques litres de café (équitable) pour tenir, du temps devant vous et de la patience de vos collègues car, je ne vois pas comment monter une plateforme de test sur un truc pareil avant de monter en prod...</li></ul>
<h2><span class="mw-headline" id="Situation">Situation</span></h2>
<ul><li><ul><li> 3 zones&#160;: Internet, DMZ, LAN</li>
<li> 4 routeurs(dans un premier temps)&#160;: <b>R1</b> et <b>R2</b> les routeurs des lignes ADSL des FAI1 et2&#160;: <b>RoB</b> le routeur OpenBSD qui nous intéresse, et enfin <b>RLAN</b> le routeur reliant la DMZ au LAN.</li>
<li> DMZ: contient:</li></ul></li></ul>
<ul><li><ul><li><ul><li> un serveur web (http+https)</li>
<li> un serveur de notes , l'excellent GEPI</li>
<li> une terminaison VPN pour le réseau administratif (le machin Amon)</li>
<li> Un routeur filtrant SLIS</li></ul></li></ul></li></ul>
<p><br />
</p>
<ul><li><ul><li> LAN&#160;: Clients définis avec 1 GW et 2 DNS</li>
<li></li></ul></li></ul>
<pre>
          |---Routeur1(FAI1)--|
Internet--|                   |--RouteurOPenBSD---DMZ---RouteurLAN---LAN
          |---Routeur2(FAI2)--|

</pre>
<p><br />
</p>
<ul><li><ul><li>RoB a trois pattes&#160;: 
<ul><li> <b>sis0</b> côté WAN</li>
<li> <b>sis1</b> qui sera réservée à la tolérance de panne sur ce routeur (lien dédié vers l'autre clone de RoB)</li>
<li> <b>sis2</b> côté DMZ</li></ul></li></ul></li></ul>
<ul><li><ul><li> n(=2 pour l'instant) FAI avec chacun son plan d'adressage
<ul><li> FAI1&#160;: bloc de 8 IP publiques&#160;: 1.1.1.1/29 GW: 1.1.1.6</li>
<li> FAI2&#160;: bloc de 8 IP publiques&#160;: 2.2.2.1/29 GW: 2.2.2.6</li></ul></li></ul></li></ul>
<h2><span class="mw-headline" id="Vocabulaire">Vocabulaire</span></h2>
<ul><li><ul><li> <i>FL</i>&#160;: aspect relatif à la tolérance de pannes (<i>failover</i>)</li>
<li> <i>LB</i>&#160;: aspect relatif à la répartition de charge (<i>Load balancing</i>)</li>
<li> <i>DB</i>&#160;:  aspect relatif à l'augmentation du débit</li>
<li> <i>UU,UD,...</i>&#160;: l'état de chacune des lignes des FAI1 puis FAI2&#160;:(<b>U</b>p ou <b>D</b>own) ce qui donne 4 cas&#160;: <b>UU,UD,DU,DD</b></li></ul></li></ul>
<ul><li><b>Spécif:</b>
<ul><li> Pas d'appliance dédié, super (ex:Radware linkproof ou <a rel="nofollow" class="external text" href="http://www.01net.com/article/231386.html%7C">autre</a>), mais un (plusieurs ) OpenBSD.&#160;: <i>Trop cher</i></li>
<li> Pas d'achat d'<a rel="nofollow" class="external text" href="http://www.techno-science.net/?onglet=glossaire&amp;definition=3888%7C">AS</a> avec BGP&#160;: <i>Trop cher</i>(et compliqué..)</li></ul></li></ul>
<ul><li><b> Traffic</b>
<ul><li> Internet -&gt; DMZ
<ul><li> résolution DNS</li>
<li> </li></ul></li>
<li> LAN-&gt; DMZ</li>
<li> LAN-&gt; Internet</li></ul></li></ul>
<h2><span class="mw-headline" id="Gestion_du_DNS">Gestion du DNS</span></h2>
<ul><li> <b>Quelques zones</b>&#160;:</li></ul>
<ul><li><ul><li> Une zone publique avec des serveurs eux aussi publics, mais en adressage privé(!).</li></ul></li></ul>
<p>J'ai fait le choix de ne pas publier d'enregistrement de cette zone en RFC 1918 et de ne pas tenir compte des tables de routage des serveurs DMZ pour router les paquets entre eux. J'ai simplement ajouté une carte réseau côté LAN et je renvoie une adresse LAN aux clients LAN. <b>Ce n'est pas une bonne méthode</b>,mais tout ça a été fini un peu à l'arrache, dans l'urgence... (Attention de ne pas activer le routage entre les cartes)
</p>
<ul><li><ul><li> un LAN avec des serveurs privés inaccessibles depuis l'extérieur..</li></ul></li></ul>
<p>Cela impose d'utiliser la notion de vues (<i>views</i>) de Bind. En gros, selon l'endroit d'où vient la requête DNS, le serveur répond différemment.
</p>
<ul><li> Fichier de configuration /var/named/etc/named-dual.conf (<i> je ne précise que les lignes importantes, ou qui ont changé</i>)</li></ul>
<pre>
acl clients {
        localnets;
       &#160;::1;
};
</pre>
<p>Je définis les clients comme étant ceux directement connectés au serveur.
</p>
<pre>
view "recursive" {
        match-clients { clients; };
        match-recursive-only yes;
</pre>
<pre>
view "recursive" {
        match-clients { clients; };
        match-recursive-only yes;
        zone "lyceenobel.org" {
                type master;
                file "master/LAN";
        allow-transfer {Mon_SLIS; UN_autre_DNS_local;};
        };
};
</pre>
<p>Tous les clients locaux seront servis par les informations contenues dans le fichier <i>LAN</i>, et il auront droit à la récursivité en prime. (le serveur fait l'ensemble des requêtes pour le client). J'autorise les deux machines <i>Mon_SLIS</i> et <i>UN_autre_DNS_local</i> à faire un transfert de zone.
</p>
<pre>
view "authoritative" {
        recursion no;
        zone "lyceenobel.org" {
                type master;
                file "master/WAN";
        allow-transfer {NS_GANDI;};
        };
};
</pre>
<p>Tous les clients exterieurs seront servis par les informations contenues dans le fichier <i>WAN</i>, et il n'auront pas droit à la récursivité . J'autorise le serveur DNS de Gandi à faire un transfert de zone; ce qui est obligatoire pour un DNS secondaire.
</p><p><br />
</p>
<ul><li> <b>Enregistrements IN A </b>:</li></ul>
<p>Toutes les machines en DMZ ont un alias IP, ex:
</p><p>Web: 1.1.1.4 et 2.2.2.4
</p><p>Le serveur DNS (lui aussi avec alias IP et SOA chez le FAIx) contient l'enregistrement suivant:
</p>
<pre>
web	IN	A 	1.1.1.4

	IN	A	2.2.2.4
</pre>
<p>Comme ça chaque client du côté LAN comme côté WAN a, en fonction de sa
réponse DNS, accès au serveur web sur l'une ou l'autre IP <i>LB</i>.
</p><p>Au final, on a les deux fichiers suivants&#160;:
</p>
<ul><li><ul><li>LAN</li></ul></li></ul>
<pre>
;Zone  lyceenobel.org à destination des clients du lycée

@       IN      SOA     feynman hostmaster.lyceenobel.org.      (
                                2007101907     &#160;; Serial
                                21600  &#160;; Refresh
                                3600   &#160;; Retry
                                3600000&#160;; Expire
                                3600 ) &#160;; Minimum
        IN      NS      feynman.lyceenobel.org.
        IN      NS      ns6.gandi.net.
        IN      MX      10 feynman.lyceenobel.org.
feynman         IN      A       I_PLAN
slis            IN      A       I_PLAN
heisenberg      IN      A       I_PLAN
isengard        IN      A       I_PLAN
silicium        IN      A       I_PLAN
curie           IN      A       I_PLAN

www             CNAME   feynman
notes           CNAME   heisenberg
backup          CNAME   isengard
se3             CNAME   silicium
AC_Secondaire   CNAME   curie
</pre>
<p><br />
</p>
<ul><li><ul><li>WAN</li></ul></li></ul>
<pre>
;Zone  lyceenobel.org à destination du vilain Internet
@       IN      SOA     feynman hostmaster.lyceenobel.org.      (
                                2007101906     &#160;; Serial
                                21600  &#160;; Refresh
                                3600   &#160;; Retry
                                3600000&#160;; Expire
                                3600 ) &#160;; Minimum
        IN      NS      feynman.lyceenobel.org.
        IN      NS      feynman-bis.lyceenobel.org.
        IN      NS      ns6.gandi.net.
        IN      MX      10 feynman.lyceenobel.org.
feynman         IN      A       IP_FAI1
feynman-bis     IN      A       IP_FAI2
slis            IN      A       IP_FAI1
                IN      A       IP_FAI2
heisenberg      IN      A       IP_FAI1
                IN      A       IP_FAI2


</pre>
<p>Attention, pour la suite, il y a un piège DNS dans lequel ne pas tomber&#160;:Mettre de multiples CNAME pour un seul enregistrement, ce qui est une violation des RFS 1034,1035. <a rel="nofollow" class="external text" href="http://www.brandonhutchinson.com/multiple_RRs_of_singleon_type.html">| En anglais</a>&#160;:
</p><p>Ca ça marche pas&#160;:
</p>
<pre>
www             CNAME   feynman
                CNAME   feynman-bis
crl             CNAME   feynman
                CNAME   feynman-bis
notes           CNAME   heisenberg
</pre>
<p>Il faut faire ça, en fait&#160;:
</p>
<pre>
www           IN      A       IP_FAI1
www           IN      A       IP_FAI2
notes         IN      A       IP_FAI1
notes         IN      A       IP_FAI2

</pre>
<p>Bon, rien de secret là-dedans, un dig nous dira tout; un serveur DNS c'est fait pour publier de l'info.
</p><p>L'astuce est au niveau feynman/feynman-bis. Une recherche chez <a rel="nofollow" class="external text" href="http://www.afnic.fr/outils/zonecheck">| zonecheck</a> va passer sans souci car on aura <i>virtuellement</i> deux serveurs DNS sur des plans différents (RFC 1035), alors qu'en fait, ben...non, c'est le même&#160;;-)
</p><p>Il faut maintenant penser à jouer sur les TTL des zones DNS. <b>TODO</b>.
</p><p><br />
</p>
<ul><li> <b>Avantage</b>&#160;:Si une ligne tombe, l'ensemble du traffic passe par la ligne restante <i>FL</i>.</li></ul>
<ul><li> <b>Problème</b>&#160;:Si une ligne tombe, 50% des requetes DNS vont dans le mur:</li></ul>
<p><i>Ligne UD</i> Tous les clients recevant 2.2.2.4 pour le web vont se retrouver sans connection au serveur... Seuls ceux ayant recu 1.1.1.4 accèderont au serveur!
</p>
<ul><li> <b> Solution</b> Modifier le fichier (named-dual.conf) contenant les enregistrements à chaque changement de la situation (UU, UD,DU,DD) pour retirer ou remettre les enregistrements qui vont bien. <b>TODO</b> .</li></ul>
<p>Méthode&#160;: 2 fichiers à concaténer ou pas selon la situation, avec un test de ligne dans la crontab (ou mieux, une détection de l'état de l'interface du routeur). Mais comme les routeurs cristolliens n'ont pas SNMP d'activé, et qu'on a pas la main dessus, on l'a dans le baba&#160;;-( 
</p><p><br />
</p>
<ul><li> <b> Enregistrements MX</b></li></ul>
<p>Même problème que les  enregistrements IN A, mais, avec l'avantage de la possibilité de refaire une tentative de connexion ultérieure, en cas de souci. C'est asynchrone SMTP, cool.
</p>
<h2><span class="mw-headline" id="Gestion_des_IP">Gestion des IP</span></h2>
<p>Tout va se passer avec du binat.
</p><p>Les serveurs en DMZ seront en adressage privé (RFC 1918) 
Ce qui pose un pb pour les requetes DNS de l'intranet. On le résoudra avec une nouvelle zone DNS et la notion de <i>vue</i> de Bind.
</p><p>Donc on reprend le plan d'adressage en DMZ  (sans DNS):
</p><p>- web    en 10.0.0.4
</p><p>- liste  en 10.0.0.5
</p><p>- Notes en 10.0.0.6
</p><p>Ce qui donne les variables suivantes pour le <i>pf.conf</i>
</p>
<pre>

webDMZ = "10.0.0.4"
ListeDMZ = "10.0.0.5"
NotesDMZ = "10.0.0.6"
webWAN1 = "1.1.1.4"
webWAN2 = "2.2.2.4"
listeWAN1 = "1.1.1.5"
listeWAN2 = "2.2.2.5"
notesWAN1 = "1.1.1.6"
notesWAN2 = "2.2.2.6"
</pre>
<p>Avec le binat, il est nécessaire de poser en aliasIP <b>toutes</b> les adresses IP publiques sur la seule patte externe de RoB&#160;!
</p><p>Contrairement à Linux, on ne verra pas les alias IP d'une carte sous la forme eth0:0 eth0:1,etc..
</p><p>Il faut éditer le fichier hostname qui va bien. Ce n'estpas indispensable mais ça permet de résister à un reboot, et ça permet de vérifier que tout fonctionne comme on veut au reboot. Néanmoins, vous pouvez aussi utiliser directement <i>ifconfig sis0 inet alias 1.1.1.4 netmask 255.255.255.255</i>
</p><p>Faisons le propre&#160;:
</p><p><b>cat /etc/hostname.sis0</b>
</p>
<pre>
inet X.X.X.X 255.255.255.0 media 100baseTX
inet alias 1.1.1.2 255.255.255.255
inet alias 1.1.1.3 255.255.255.255
inet alias 1.1.1.4 255.255.255.255
inet alias 1.1.1.5 255.255.255.255
inet alias 1.1.1.6 255.255.255.255
inet alias 2.2.2.2 255.255.255.255
inet alias 2.2.2.3 255.255.255.255
inet alias 2.2.2.4 255.255.255.255
inet alias 2.2.2.5 255.255.255.255
inet alias 2.2.2.6 255.255.255.255
</pre>
<p>Et oui, je lui colle la totalité des blocs d'IP publiques fournies par chaque FAI!
</p><p><b>Gestion du NAT bidirectionnel</b>
</p><p>Dans <i>pf.conf</i>
</p>
<pre>
binat on sis2 from $webDMZ to any -&gt; $webWAN1
binat on sis2 from $webDMZ to any -&gt; $webWAN2
binat on sis2 from $ListeDMZ to any -&gt; $ListeWAN1
binat on sis2 from $ListeDMZ to any -&gt; $ListeWAN2
binat on sis2 from $NotesDMZ to any -&gt; $NotesWAN1
binat on sis2 from $NotesDMZ to any -&gt; $NotesWAN2

</pre>
<ul><li> Tout paquet arrivant depuis la DMZ (sis2) à destination d'Internet sera naté comme provenant( coté WAN de RoB ) d'une IP publique affectée par FAI1 ou FAI2. <i>(oui, mais lequel??&#160;;-( )</i></li>
<li> A l'inverse, tout paquet arrivant sur RoB vers une IP publique sera NATé vers le bon serveur en DMZ.</li>
<li>Autre avantage du binat sur le classique NAT: Plus besoin de proxy-ftp&#160;! En effet, après une petite manip (cf sticky-adress) </li></ul>
<p>(On peut même faire de la répartion de charge sur des fermes de serveurs en DMZ, maintenant...)
</p><p><br />
<b>Gestion de la répartition de charge en sortie sur les lignes</b>
</p>
<ol><li> Sortie avec répartition de charge DMZ-&gt;FAI1&amp;FAI2</li></ol>
<ol><li> Définitions</li></ol>
<pre>
WAN_M_IF&#160;: Interface côté routeur du FAI1
WAN_E_IF&#160;: Interface côté routeur du FAI2
GW_M_IP&#160;: Adresse de la passerelle côté FAI1
GW_E_IP&#160;: Adresse de la passerelle côté FAI2
DMZ_NET&#160;: Sous réseau côté DMZ
</pre>
<ol><li> Régles de répartition de charge</li></ol>
<pre>
pass in log quick on $DMZ_IF route-to {($WAN_M_IF $GW_M_IP),($WAN_E_IF $GW_E_IP)} round-robin sticky-address from $DMZ_NET to any keep state
</pre>
<p><b>LA</b> règle. Celle qui fait que les paquets provenant de la DMZ va partir alternativement sur la patte FAI1 puis sur la patte FAI2. C'est dû à l'usage de <i>route-to</i>.
</p><p>Puis, c'est <b>round-robin</b> qui fait cette répartition successive; d'autres méthodes existent&#160;:<i>source-hash</i> et <i>random </i>. Voir <a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/pf/fr/pools.html%7C">ici</a>
</p><p>Le troisième mot-clé important est <b>sticky-address</b>. La méthode de round-robin est attribuée pour chaque connexion (pour chaque état, en fait) pose un souci avec au moins un protocole (d'autres que lui surement) le FTP&#160;:
</p><p>Avec sticky-address vous forcez le routeur à utiliser cette "adresse collante" de telle sorte qu'à une adresse source corresponde toujours le même routeur de sortie.
</p><p>Si vous ne faites pas ça, avec le ftp, le serveur ftp distant verra arriver la connexion ftp depuis une adresse et la connexion ftp-data depuis une <i>autre</i> adresse, ce qu'il risque de ne pas aimer du tout.
</p><p><b>Précision</b>: <i>sticky-address</i> c'est formidable, <i>sauf</i> que dans notre situation, ça met la répartition de charge par terre... Ce n'est valable qu'avec plusieurs dizaines (centaines) de clients en direct et pas avec des clients qui passent déja par un routeur NAT, auquel cas une seule adresse de sortie ne sera utilisée pour ce routeur NAT.
</p>
<pre>
pass out on $WAN_M_IF route-to ($WAN_E_IF $GW_E_IP) from $WAN_E_IF to any  keep state
pass out on $WAN_E_IF route-to ($WAN_M_IF $GW_M_IP) from $WAN_M_IF to any  keep state
</pre>
<p>Pour s'assurer que les paquets du réseau FAI1 ne vont pas aller se promener directement sur le réseau FAI2.
</p><p><br />
<a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/pf/fr/pools.html%7C">Le document d'origine</a>
</p>
<ul><li> <b>pf</b></li></ul>
<h2><span class="mw-headline" id="D.C3.A9tection_d.27.C3.A9tat_de_la_ligne">Détection d'état de la ligne</span></h2>
<ul><li> Cas 1: Les 2 lignes sont UP</li></ul>
<ul><li> Cas 2: La ligne 1 est UP, la ligne 2 est down</li></ul>
<p><b>TODO</b>
</p>
<h2><span class="mw-headline" id="Suppression_du_SPOF">Suppression du  SPOF</span></h2>
<p>Single Point Of Failure&#160;: le Routeur OpenBSD est maintenant le seul point critique. On va le doubler, encore à coup de poissons qui piquent.
</p>
<pre><b>TODO</b>
</pre>
<h2><span class="mw-headline" id="Au_final">Au final</span></h2>
<h3><span class="mw-headline" id="Sch.C3.A9ma">Schéma</span></h3>
<p>On arrive à ça&#160;:
<a href="./index.php%3Ftitle=Fichier:Agregation_lignes_ADSL.png.html" class="image"><img alt="Agregation lignes ADSL.png" src="images/3/3e/Agregation_lignes_ADSL.png" width="600" height="275" /></a>
</p>
<h3><span class="mw-headline" id="Fichier_pf.conf">Fichier pf.conf</span></h3>
<h3><span class="mw-headline" id="Fichiers_hostname">Fichiers hostname</span></h3>
<ul><li> <b>hostname.sis0</b></li></ul>
<pre>
inet X.X.X.X 255.255.255.0 media 100baseTX
inet alias 1.1.1.2 255.255.255.255
inet alias 1.1.1.3 255.255.255.255
inet alias 1.1.1.4 255.255.255.255
inet alias 1.1.1.5 255.255.255.255
inet alias 1.1.1.6 255.255.255.255
inet alias 2.2.2.2 255.255.255.255
inet alias 2.2.2.3 255.255.255.255
inet alias 2.2.2.4 255.255.255.255
inet alias 2.2.2.5 255.255.255.255
inet alias 2.2.2.6 255.255.255.255
</pre>
<ul><li> <b>hostname.sis1</b></li></ul>
<pre>
inet 10.100.100.1 255.255.255.0 media 100baseTX
</pre>
<p><br />
</p>
<ul><li> <b>hostname.sis2</b></li></ul>
<pre>
inet 10.0.0.1 255.255.255.0 media 100baseTX
</pre>
<p><br />
</p>
<ul><li> <b>Quelques réglages utiles</b>
<ul><li> Attention à la directive <b><a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/pf/scrub.html">scrub</a></b>&#160;! Je viens de perdre une bonne semaine à comprendre pourquoi des collègues utilisant des <i>OS dont la pile IP n'est pas réputée (Version Millenium)</i> avaient une connexion TCP systématiquement coupée lors de requêtes un peu grosses sur Gepi ou Drupal.</li></ul></li></ul>
<p><br />
Tiré de la page de man de scrub&#160;:
</p><p><b>no-df</b>    Clears the don't fragment bit from the IP packet header. Some operating systems are known to generate fragmented packets with the don't fragment bit set. This is particularly true with NFS. Scrub will drop such packets unless the no-df option is specified. Because some operating systems generate don't fragment packets with a zero IP identification header field, using no-df in conjunction with random-id is recommended.
</p><p><br />
La directive <b>no-df</b> efface le bit DF dans l'entête du paquet IP. Certains OS sont connus pour générer des paquets fragmentés avec le bit DF activé. C'est particulièrement vrai pour NFS. Scrub va éliminer ce type de paquet à moins que la directive no-df ne soit spécifiée. Comme certains OS génèrent des paquets avec le bit DF avec un champ d'entête d'identification IP à zéro, il est recommandé d'utiliser la directive <b>random-id</b> avec no-df.
</p><p>Ce qui donne 
</p>
<pre>
scrub in all no-df random-id
</pre>
<h2><span class="mw-headline" id="Tests">Tests</span></h2>
<h3><span class="mw-headline" id="Depuis_l.27ext.C3.A9rieur">Depuis l'extérieur</span></h3>
<p><i>traceroute notes.lyceenobel.org</i>
</p>
<pre>
.
.
 5  th1-6k-2-po21.intf.routers.proxad.net (212.27.57.214)  51.659 ms * *
 6  th1-4k-1-v900.intf.routers.proxad.net (212.27.58.78)  53.633 ms  54.389 ms  54.794 ms
 7  easynet.FreeIX.net (213.228.3.226)  56.024 ms  44.088 ms  44.455 ms
 8  v121.br0.cpnan.fr.easynet.net (194.116.219.1)  46.063 ms  44.282 ms  45.119 ms
 9  dr1.cpnan.fr.easynet.net (194.116.218.135)  46.551 ms  46.761 ms  47.970 ms
10  lyceep16598-gw.clients.easynet.fr (84.37.101.73)  77.886 ms  77.896 ms  79.256 ms
11  lyceep16598-5.clients.easynet.fr (84.37.101.77)  99.777 ms  101.939 ms  104.393 ms
12  lyceep16598-5.clients.easynet.fr (84.37.101.77)  106.078 ms  108.790 ms  91.708 ms
</pre>
<p>On est passé par easynet..
</p><p>Quelques secondes plus tard
</p><p><i>traceroute notes.lyceenobel.org</i>
</p>
<pre>
.
.
 5  th1-6k-2-po21.intf.routers.proxad.net (212.27.57.214)  51.454 ms * *
 6  ae15-0.nosta102.Paris.francetelecom.net (193.252.160.153)  53.876 ms  54.178 ms  55.165 ms
 7  telecomitalia-12876.tlh2.giga.parix.net (198.32.247.76)  56.064 ms  44.265 ms  44.864 ms
 8  vlan16.sw2.gre.as12876.net (212.129.23.221)  45.536 ms  46.224 ms  46.611 ms
 9  gi0-0-125.lns04.gre.as12876.net (212.129.20.125)  47.957 ms  48.607 ms  49.545 ms
10  ppp-132.net-161.static.magiconline.fr (62.210.192.132)  105.527 ms  107.810 ms  109.921 ms
11  ppp-132.net-161.static.magiconline.fr (62.210.192.132)  112.305 ms  114.283 ms  116.699 ms
</pre>
<p>On est passé par magic on line..
</p>
<h3><span class="mw-headline" id="Depuis_l.27int.C3.A9rieur">Depuis l'intérieur</span></h3>
<p><i>traceroute www.ac-creteil.fr</i>
</p>
<pre>
traceroute to archange.ac-creteil.fr (195.98.246.167), 64 hops max, 40 byte packets
 1  lyceep16598-gw.clients.easynet.fr (84.37.101.73)  0.522 ms ppp-134.net-161.static.magiconline.fr (62.210.192.134)  0.512 ms lyceep16598-gw.clients.easynet.fr (84.37.101.73)  0.514 ms
 2  lns04.gre.as12876.net (212.129.20.204)  80.230 ms 212.180.57.24 (212.180.57.24)  28.750 ms lns04.gre.as12876.net (212.129.20.204)  60.733 ms
 3  br0.cpnan.fr.easynet.net (194.116.218.129)  30.619 ms vlan125.sw2.gre.as12876.net (212.129.20.126)  61.79 ms br0.cpnan.fr.easynet.net (194.116.218.129)  31.86 ms
</pre>
<p>On est passé par easynet..
</p><p>Quelques secondes plus tard 
</p><p><i>traceroute www.ac-creteil.fr</i>
</p>
<pre>
traceroute to archange.ac-creteil.fr (195.98.246.167), 64 hops max, 40 byte packets
 1  ppp-134.net-161.static.magiconline.fr (62.210.192.134)  0.520 ms lyceep16598-gw.clients.easynet.fr (84.37.101.73)  0.669 ms ppp-134.net-161.static.magiconline.fr (62.210.192.134)  0.668 ms
 2  212.180.57.24 (212.180.57.24)  138.742 ms  28.748 ms lns04.gre.as12876.net (212.129.20.204)  179.784 ms
 3  br0.cpnan.fr.easynet.net (194.116.218.129)  29.690 ms vlan125.sw2.gre.as12876.net (212.129.20.126)  59.601 ms br0.cpnan.fr.easynet.net (194.116.218.129)  29.684 ms
</pre>
<p>On est passé par magic on line.
</p>
<h2><span class="mw-headline" id="Biblio">Biblio</span></h2>
<ul><li> <a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/faq6.html#Setup.aliases%7C">Aliasing IP</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/pf/fr/pools.html%7C">usage de route-to</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/pf/pools.html#outgoing%7C">Répartition de charge en sortie</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.openbsd.org/faq/pf/nat.html#binat%7C">Gestion du Binat 1:1</a></li></ul>
<h2><span class="mw-headline" id="Crapulerie">Crapulerie</span></h2>
<p><a rel="nofollow" class="external text" href="http://djazx.blogspot.com/2010/11/agregation-de-lignes-adsl-via-openbsd.html">S'est</a> copieusement servi, sans rien demander et sans citer ses sources...
</p>
<!-- 
NewPP limit report
Cached time: 20171020132729
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.450 seconds
Real time usage: 0.459 seconds
Preprocessor visited node count: 290/1000000
Preprocessor generated node count: 560/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key WikiBSD:pcache:idhash:24-0!*!0!!fr!5!* and timestamp 20171020132728 and revision id 1709
 -->
</div>					<div class="printfooter">
						Récupérée de «&#160;<a dir="ltr" href="http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;oldid=1709">http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;oldid=1709</a>&#160;»					</div>
				<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Menu de navigation</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Outils personnels</h3>
						<ul>
							<li id="pt-login"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Connexion&amp;returnto=Agregation+de+lignes+ADSL.html" title="Il est recommandé de vous identifier ; ce n'est cependant pas obligatoire. [o]" accesskey="o">Se connecter</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Espaces de noms</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html"  title="Voir la page de contenu [c]" accesskey="c">Page</a></span></li>
															<li  id="ca-talk" class="new"><span><a href="http://www.openbsd-edu.net/index.php?title=Discussion:Agregation_de_lignes_ADSL&amp;action=edit&amp;redlink=1"  title="Discussion au sujet de cette page de contenu [t]" accesskey="t" rel="discussion">Discussion</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variantes</span><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Affichages</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html" >Lire</a></span></li>
															<li id="ca-viewsource"><span><a href="http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;action=edit"  title="Cette page est protégée.&#10;Vous pouvez toutefois en visualiser la source. [e]" accesskey="e">Voir le texte source</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;action=history"  title="Les versions passées de cette page (avec leurs contributeurs) [h]" accesskey="h">Historique</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>Plus</span><a href="index.php%3Ftitle=Agregation_de_lignes_ADSL.html#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Rechercher</label>
						</h3>

						<form action="http://www.openbsd-edu.net/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Rechercher sur OpenWikiBSD" title="Rechercher dans OpenWikiBSD [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Spécial:Recherche" name="title"/><input type="submit" name="fulltext" value="Rechercher" title="Rechercher les pages comportant ce texte." id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Lire" title="Aller vers une page portant exactement ce nom si elle existe." id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="index.php%3Ftitle=Accueil.html"  title="Page principale"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-mainpage-description"><a href="index.php%3Ftitle=Accueil.html" title="Aller à l'accueil [z]" accesskey="z">Accueil</a></li><li id="n-recentchanges"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Modifications_r%25C3%25A9centes.html" title="Liste des modifications récentes sur le wiki [r]" accesskey="r">Modifications récentes</a></li><li id="n-randompage"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Page_au_hasard.html" title="Afficher une page au hasard [x]" accesskey="x">Page au hasard</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="Aide">Aide</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Outils</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Pages_li%25C3%25A9es%252FAgregation_de_lignes_ADSL.html" title="Liste des pages liées qui pointent sur celle-ci [j]" accesskey="j">Pages liées</a></li><li id="t-recentchangeslinked"><a href="http://www.openbsd-edu.net/index.php?title=Sp%C3%A9cial:Suivi_des_liens/Agregation_de_lignes_ADSL" rel="nofollow" title="Liste des modifications récentes des pages appelées par celle-ci [k]" accesskey="k">Suivi des pages liées</a></li><li id="t-specialpages"><a href="./index.php%3Ftitle=Sp%25C3%25A9cial:Pages_sp%25C3%25A9ciales.html" title="Liste de toutes les pages spéciales [q]" accesskey="q">Pages spéciales</a></li><li id="t-print"><a href="http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;printable=yes" rel="alternate" title="Version imprimable de cette page [p]" accesskey="p">Version imprimable</a></li><li id="t-permalink"><a href="http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;oldid=1709" title="Adresse permanente de cette version de la page">Adresse permanente</a></li><li id="t-info"><a href="http://www.openbsd-edu.net/index.php?title=Agregation_de_lignes_ADSL&amp;action=info" title="Plus d’information sur cette page">Information sur la page</a></li>					</ul>
							</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> Cette page a été modifiée pour la dernière fois le 13 juillet 2011 à 21:11.</li>
											<li id="footer-info-copyright">Le contenu est disponible sous licence <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons paternité – non commercial – partage à l’identique</a> sauf mention contraire.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:Confidentialit%C3%A9" title="OpenWikiBSD:Confidentialité">Politique de confidentialité</a></li>
											<li id="footer-places-about"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:%C3%80_propos" title="OpenWikiBSD:À propos">À propos de OpenWikiBSD</a></li>
											<li id="footer-places-disclaimer"><a href="http://www.openbsd-edu.net/index.php?title=OpenWikiBSD:Avertissements_g%C3%A9n%C3%A9raux" title="OpenWikiBSD:Avertissements généraux">Avertissements</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
							<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons paternité – non commercial – partage à l’identique" width="88" height="31"/></a>						</li>
											<li id="footer-poweredbyico">
							<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="resources/assets/poweredby_mediawiki_132x47.png 1.5x, resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.450","walltime":"0.459","ppvisitednodes":{"value":290,"limit":1000000},"ppgeneratednodes":{"value":560,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20171020132729","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1939});});</script>
	</body>
</html>
